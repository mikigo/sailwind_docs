# Chapter 44 SPECCTRA Link
The SPECCTRA Link sends PCB design file data to a SPECCTRA design file, and then imports the SPECCTRA results back to a PCB design file. The Link features an automatic DO File editor to edit existing or new DO files. Parameters are automatically saved between sessions.

SPECCTRA translates route protection status, physical design reuses, test point settings on both vias and component pins, decal keepouts, board keepouts, and board cutouts. Route protection status is passed to and from SPECCTRA for routed traces and vias using SPECCTRA's fix attribute for wires and route attribute for vias. Protection for unrouted traces is passed to SPECCTRA only for whole connections, such as routed links that start and end on component pins. For more information, see [Route](#page-2-0) [Protection Status to SPECCTRA](#page-2-0).

[Unused Pins Net](#page-0-0) [Data Passed to SPECCTRA](#page-1-0) [SailWind Layout to SPECCTRA Rules Conversion](#page-4-0) [SPECCTRA Output File Location and Router Settings](#page-9-0) [Loading In and Out of SPECCTRA Automatically](#page-10-0) [Loading In and Out of SPECCTRA Manually](#page-11-0) Translating Design Data from SailWind Layout to [SPECCTRA](#page-12-0) Translating Design Data from [SPECCTRA](#page-12-1) to SailWind Layout [Setting SPECCTRA Options](#page-13-0) [Setting the SPECCTRA Automatic Startup Information](#page-14-0) [Creating or Editing a .do File](#page-15-0) [Setting up SPECCTRA .do File Startup Options](#page-17-0) [SPECCTRA and Split/Mixed Planes](#page-18-0) [Defining Split Planes Before Routing in SPECCTRA](#page-19-0) [Defining Split Planes After Routing in SPECCTRA](#page-20-0)

## Unused Pins Net
SailWind Layout passes unused pins, or pins that are not connected to a net, to SPECCTRA. These pins and their fanouts are added to a net of unused pins called +UNUSED\_PINS+ in SPECCTRA (this was formerly called \*UNUSED\_PINS\*). When you return the routed design to SailWind Layout, you can also pass the unused pins and fanout information. The +UNUSED\_PINS+ net information is translated into the NOT\_CONNECTED net in SailWind Layout. You can change the name of the NOT\_CONNECTED net in the SPECCTRA Options dialog box, but the net should have a unique name.

The NOT\_CONNECTED net is a normal net inside SailWind Layout that contains the fanout via, the trace, and the unused pin. Because this net is a normal net in SailWind Layout, pins in it are no longer treated as unused pins in subsequent SPECCTRA sessions. Use the existing DO file to protect this net from being routed as a normal net in subsequent sessions. To recreate this net in SPECCTRA, delete it in SailWind Layout before routing the design.

**Tip**

SailWind Layout cannot define a connection for a single pin net; therefore, if the +UNUSED\_PINS + net contains only a single component pin and fanout, SailWind Layout cannot interpret it.

The figure below demonstrates fanouts on unused pins in SPECCTRA. It also demonstrates how SailWind Layout interprets those fanouts and unused pins. Because SPECCTRA now translates test point attributes on component pins as well as on vias, the following figure demonstrates how SPECCTRA passes test points assigned to the fanouts of the unused pins.

**Figure 126. Fanouts on Unused Pins**

![](/layout/guide/44/_page_1_Figure_5.jpeg)

## Data Passed to SPECCTRA
You can pass DFT audit settings and keepouts to SPECCTRA.

**DFT Audit Settings to SPECCTRA**

You can pass DFT Audit test point placement options to SPECCTRA for its test point placement routine. SPECCTRA generally uses these options when applicable. Options such as test point clearances are passed to SPECCTRA. But options such as nail diameters and fixture drill sizes are used only by DFT Audit. Because they do not affect SPECCTRA's test point insertion, this type of information is not passed.

SPECCTRA bases its clearance calculations on DFT Audit options. SPECCTRA's clearance options are set in the Setup Test Point Rule area of the SPECCTRA DO File dialog box. For more information about DFT Audit, see "Design for Test".

**Tip** SPECCTRA does not allow assigning multiple test points to net. This setting is not passed to SPECCTRA.

**Keepouts to SPECCTRA**

The SailWind Layout to SPECCTRA Link supports via keepouts and passing other types of keepouts (for wires, bends, components, and pins) to SPECCTRA. Copper shapes on any level are passed in this way. By manipulating this existing keepout functionality, you can pass other specific keepouts to SPECCTRA.

SailWind Layout supports keepouts in the Layout Editor.

**Slotted Holes to SPECCTRA**

Non plated slotted holes are converted to keepouts on all layers. Plated slotted holes use a circular drill at the electrical center.

**Route Protection Status to SPECCTRA**

You can set options in SailWind Layout that prevent modifying routed traces and vias in SPECCTRA. This feature protects critically placed routes during interactive routing and in batch routing in automatic routers. Protection is passed to and from SPECCTRA. Components, vias, test points, and other design items associated with protected routes or unroutes are also protected.

**Protected Traces and Vias to SPECCTRA**

Routed traces with protected status are passed to SPECCTRA with a fix attribute. You cannot modify fixed traces, and the router cannot route to this trace.

Vias attached to at least one protected trace are passed to SPECCTRA with a route attribute. Although you cannot modify these vias, you can route to them to complete a connection.

[Table](#page-2-1) [139](#page-2-1)lists the rules used by the SPECCTRA Link to determine via attributes.



| Via has protected<br>traces | Locked test point<br>status | Glue status | SPECCTRA via status |
|-----------------------------|-----------------------------|-------------|---------------------|
| Yes                         | Any                         | Any         | Route               |
| No                          | Yes                         | Any         | Route               |
| No                          | No                          | Yes         | Protect             |
| No                          | No                          | No          | Normal (by default) |

**Table 139. SPECCTRA Link Rules**

**Protected, Unrouted Traces to SPECCTRA**

Route protection status is passed to SPECCTRA only for those SailWind Layout unrouted traces that are whole connections, which start and end on component pins. Unrouted connections are passed to SPECCTRA as a fromto with a fix attribute.

**Protected Components with Routed Traces to SPECCTRA**

A component is passed to SPECCTRA with lock status as long as the component has at least one pin attached to a trace with route protection.

**Receiving Protection Status for Routed Traces from SPECCTRA**

- SPECCTRA wires that have a fix attribute are returned to SailWind Layout as traces with route protection.
- Vias with a protect attribute in SPECCTRA are transformed to glued status in SailWind Layout.
- Vias that have a route attribute in SPECCTRA are not given special protection in SailWind Layout.

[Table](#page-3-0) [140](#page-3-0)through [Table](#page-3-1) [142](#page-3-1)provide lists of the passing and returning protection status for SailWind Layout traces, vias, and unroutes.



| Status in<br>SailWind Layout | Status passed to<br>SPECCTRA | Protection in<br>SPECCTRA | Status<br>passed from<br>SPECCTRA | Status returned<br>to SailWind<br>Layout |
|------------------------------|------------------------------|---------------------------|-----------------------------------|------------------------------------------|
| Regular trace                | Normal type wire             | ---                       | Normal type                       | Regular trace                            |
| Regular trace                | Normal type                  | Protect                   | Protect type                      | Regular trace                            |
| Regular trace                | Normal type                  | Fix                       | Protect type                      | Regular trace                            |
| Protected trace              | Fix type                     | ---                       | Fix type                          | Protected trace                          |
| Protected trace              | Fix type                     | Protect/Unprot<br>ect     | Fix type                          | Protected trace                          |
| Protected trace              | Fix type                     | Fix/unfix                 | Fix type                          | Protected trace                          |

**Table 140. Protection Status for Traces**

**Table 141. Protection Status for Vias**

| Status of trace in SailWind Layout |                     |                 |                              |                           |                                   |                                             |
|------------------------------------|---------------------|-----------------|------------------------------|---------------------------|-----------------------------------|---------------------------------------------|
| Has<br>Protected<br>Traces         | Locked<br>TP status | Glued<br>Status | Status passed<br>to SPECCTRA | Protection in<br>SPECCTRA | Status<br>passed from<br>SPECCTRA | Status<br>returned to<br>SailWind<br>Layout |
| Yes                                | Any                 | Any             | Route                        | Any                       | Route                             | Normal*                                     |
| No                                 | Yes                 | Any             | Route                        | Any                       | Route                             | Normal*                                     |
| No                                 | No                  | Yes             | Protect                      | ---                       | Protect                           | Glued                                       |
| No                                 | No                  | Yes             | Protect                      | Unprotect                 | Normal                            | Normal**                                    |
| No                                 | No                  | Yes             | Protect                      | Unfix                     | Protect                           | Glued                                       |
| No                                 | No                  | Yes             | Protect                      | Fix, protect              | Protect                           | Glued                                       |
| No                                 | No                  | No              | Normal                       | ---                       | Normal                            | Normal                                      |
| No                                 | No                  | No              | Normal                       | Fix, protect              | Protect                           | Glued                                       |

\* If defined in the original SailWind Layout design, the glue status of the via is lost. The test point is preserved by SPECCTRA and is returned to the SailWind Layout design.

\*\* You can delete the via in SPECCTRA if the route, edit, or clean commands are performed in SPECCTRA after the Unprotect command.



| Type of Unroute in SailWind<br>Layout | Passed to SPECCTRA<br>as | Returned from SPECCTRA as |  |
|---------------------------------------|--------------------------|---------------------------|--|
| Not protected unroute                 | No special handling      | No special handling       |  |

|  | Table 142. Protection Status for Unroutes |  |  |
|--|-------------------------------------------|--|--|
|--|-------------------------------------------|--|--|

| Type of Unroute in SailWind<br>Layout                 | Passed to SPECCTRA<br>as | Returned from SPECCTRA as                               |
|-------------------------------------------------------|--------------------------|---------------------------------------------------------|
| Protected totally unrouted<br>connection              | Fromto type, Fix         | No special handling—not protected<br>in SailWind Layout |
| Protected unroutes of partially<br>routed connections | No special handling      | No special handling                                     |

**Table 142. Protection Status for Unroutes(continued)**

**Physical Design Reuses to SPECCTRA**

Routes that are elements of a physical design reuse are passed to SPECCTRA with a fix attribute. Therefore, you cannot modify or route them. SPECCTRA only connects to vias and coppers in a physical design reuse if they are passed with a route attribute. [Table](#page-4-1) [143](#page-4-1)provides a summary of Physical Design Reuse Processing.

|  |  |  | Table 143. Physical Reuse Processing |
|--|--|--|--------------------------------------|
|--|--|--|--------------------------------------|



| Reuse Element       | Passed to SPECCTRA<br>as | Returned from SPECCTRA                                                                                             |
|---------------------|--------------------------|--------------------------------------------------------------------------------------------------------------------|
| Component           | lock_type fix            | No(Warning issued; whether it<br>has changed, or not, the new<br>placement is not returned to<br>SailWind Layout.) |
| Via                 | type route               | No                                                                                                                 |
| Trace               | type fix                 | No                                                                                                                 |
| Jumper              | lock_type fix            | No                                                                                                                 |
| Copper with netname | type route               | No                                                                                                                 |

**Jumpers to SPECCTRA**

You can pass jumpers to SPECCTRA. SPECCTRA will not attempt to route SailWind Layout jumpers.

![](/layout/guide/44/_page_4_Picture_9.jpeg)

**Tip** Do not use SPECCTRA jumpers; they are not backward compatible.

## SailWind Layout to SPECCTRA Rules Conversion
Design Rules are converted into one of two types of SPECCTRA rules using the keywords RULE and CIRCUIT. The type used in the conversion is indicated for each SPECCTRA rule.

**Routing, High-Speed, and Clearance Rules**

Routing, high-speed, and clearance rules are supported for classes, nets, groups, and pin pairs. Additionally, as [Table](#page-5-0) [144](#page-5-0)shows, SailWind Layout default rules are passed when possible.



| SailWind Layout Routing Rules                                                            | SPECCTRA Routing Rules      |
|------------------------------------------------------------------------------------------|-----------------------------|
| Copper Sharing                                                                           | (rule (tjunction on/off))   |
| Priority                                                                                 | (circuit (priority #))      |
| Selected Layers*                                                                         | (circuit (use_layer # # #)) |
| Selected Vias*                                                                           | (circuit (use_via a b c))   |
| *Selected Layer and Selected Via rules require the Advanced Rules option in<br>SPECCTRA. |                             |

**Table 144. Routing Rules**

The Link passes default routing rules to SPECCTRA. Copper Sharing is passed at the PCB rule level.

The Link also passes Priority, Selected Layers, and Selected Vias by creating an artificial class containing all nets you did not assign to a class. This artificial class is named CLASS\_nnnnnnn, where nnnnnnn is a number from 0 to 9999999. The default routing rules are then passed to SPECCTRA in this artificial class, as shown in [Table](#page-5-1) [145.](#page-5-1)



| SailWind Layout High-Speed Rules | SPECCTRA High-Speed Rules                                                                                                |  |
|----------------------------------|--------------------------------------------------------------------------------------------------------------------------|--|
| Min/Max Length                   | (circuit (length max min) (type actual))                                                                                 |  |
| Stub Length                      | (rule (max_stub #))                                                                                                      |  |
| Match Lengths                    | (circuit (match_fromto_length on/off) (tolerance dist))                                                                  |  |
| Shielding w/Gap                  | (circuit (shield on (use_net net)))(rule (shield_gap<br>dist))Net must be a power net or SPECCTRA will fail<br>on input. |  |
| Parallelism Length and Gap       | (rule (parallel_segment (gap dist) (limit dist)                                                                          |  |

**Table 145. High-Speed Rules**

The Link passes the default high-speed rules to SPECCTRA. It passes Parallel Length, Tandem Length and Gap, Stub Length, and Min/Max Length by creating an artificial class containing all nets you did not assign to a class. This artificial class is named CLASS\_nnnnnnn, where nnnnnnn is a number from 0 to 9999999. The high-speed rules are then passed to SPECCTRA in this artificial class.

**Clearance Rules**

As shown in [Table](#page-6-0) [146](#page-6-0), SPECCTRA accepts only one trace width per rule so the recommended width is passed.



| SailWind Layout        | SPECCTRA                                       |
|------------------------|------------------------------------------------|
|                        | (rule(width dist)                              |
| Trace to Trace spacing | (clearance dist (type wire_wire))              |
| Via to Trace spacing   | (clearance dist (type via_wire))               |
| Via to Via spacing     | (clearance dist (type via_via))                |
| Pad to Trace spacing   | (clearance dist (type pin_wire))               |
| Pad to Via spacing     | (clearance dist (type pin_via))                |
| Pad to Pad spacing     | (clearance dist (type pin_pin))                |
| Smd to Trace spacing   | (clearance dist (type smd_wire))               |
| Smd to Via spacing     | (clearance dist (type smd_via))                |
| Smd to Pad spacing     | (clearance dist (type smd_pin))                |
| Smd to SMD spacing     | (clearance dist (type smd_smd))                |
| Board to Trace spacing | (clearance dist (type area_wire))              |
| Board to Via spacing   | (clearance dist (type area_via))               |
| Board to Pad spacing   | (clearance dist (type area_pin))               |
| Board to SMD spacing   | (clearance dist (type area_smd))               |
| Smd to Via same net    | (clearance dist (type<br>smd_via_same_net))    |
| Smd to Crn same net    | (clearance dist (type<br>smd_to_turn_gap))     |
| Pad to Crn same net    | (clearance dist (type<br>pad_to_turn_gap))     |
| Via to Via same net    | (clearance dist (type<br>via_to_via_same_net)) |
| Drill to Drill spacing | (clearance dist (type drill_gap))              |
| Body to Body spacing   | Unsupported                                    |

**Table 146. Clearance Rules**

The Link passes default clearance rules to SPECCTRA at the PCB rule level.

**Tip**

Copper is translated to a SPECCTRA keepout. In addition, a board outline is translated as a boundary. Both keepouts and boundaries use the area clearance mentioned above.

**Specctra Text Translation**

Text translates as a keepout. During generation of the SPECCTRA keepout, the maximum text clearance defined in the following clearance rules is used to expand the SPECCTRA keepout area to allow for the required clearance:

- Text-to-Trace spacing
- Text-to-Via spacing
- Text-to-Drill spacing
- Text-to-SMD spacing

**Differential Pairs**

SPECCTRA does not support minimum/maximum length directly for differential pairs. However, you can add these restrictions using routing rules applied to the pair of nets.

The following SPECCTRA syntax supports net pairs:

```
(pair (nets nm1 nm2 (gap dist)))
Pin pairs use the syntax:
(pair (wires nm1 nm2 (gap dist)))
```
**Conditional Rules**

Conditional rules are separated into two categories: high-speed and clearance. SPECCTRA can accept conditional rules for layers. However, any other rules can only be conditional if they use net classes. A class can contain only nets, not pin pairs or groups. Therefore, any conditional rule that includes a group or pin pair, and is a high-speed rule, cannot be passed to SPECCTRA.

Nets in conditional rules are automatically placed in dummy SPECCTRA classes using the naming convention NEW\_CLASS\_# as follows:

(class NEW\_CLASS1 \$\$\$2016)

**High-Speed Conditional Rules**

A high-speed conditional rule is converted like a non conditional high-speed rule, except that it must be of the form class vs. class, as follows:

```
**PADS Layout Conditional Rule ###**
```

```
(class_class
(classes CLASS_0 CLASS_1)
(rule (parallel_segment (gap dist) (limit dist)))
(rule (tandem_segment (gap dist) (limit dist)))
)
```

```
###############################
```
**Clearance Conditional Rules**

Conditional clearance rules must be of the form object vs. layer, as follows:

```
###########################
```
**PADS Layout Group Rule ###**

(group GROUP\_0

(fromto U2-2 U1-2

)

(fromto U4-9 U1-9

)

(fromto U3-10 U4-10

```
)
```
(layer\_rule 1

(rule

(width dist)

(clearance dist (type wire\_wire))

```
(clearance dist (type via_wire))
```
etc.

![](/layout/guide/44/_page_9_Picture_3.jpeg)

**Tip** Conditional rules vs. text are ignored. SPECCTRA does not recognize text.

## SPECCTRA Output File Location and Router Settings
Use the Setup SPECCTRA Finish dialog box to specify output file locations and to set instructions for the SPECCTRA router regarding actions performed when routing is completed, such as running the mitering pass, running re-cornering, and insertion of test points.

**Procedure**

- 1. Click the **File> Export** menu item.
- 2. In the File Export dialog box, in the Save as type list, click SPECCTRA Files (\*.dsn).
- 3. Browse to overwrite a file or type a new file name. Click **Save**.
- 4. In the SPECCTRA Link dialog box, click **DO File**.
- 5. In the SPECCTRA Do File dialog box, click **Finish**.
- 6. To indicate the wires file, type or browse to the location in the Wires File box.
- 7. To indicate the routes file, type or browse to the location in the Routes File box.
- 8. To indicate the session file, type or browse to the location in the Session File box.
- 9. Select the options you want for test points installed by SPECCTRA in the Test Points area. (For more information, see "[Data Passed to SPECCTRA](#page-1-0)", and the "Testpoint" topic in the *SPECCTRA Help*.)
- 10. Select a miter conversion type from the Miter area.
- 11. Select a recornering option from the Recorner area.
- 12. To remove crossover and clearance violations, click **Delete Conflicts**.
- 13. To eliminate notches and remove extra bends, click **Critic**.
- 14. To add extra space if there is room, click **Spread** and type the spread value in the Extra box.
- 15. Select the type of data you want to include in the report from the Reports area.
- 16. To indicate the report file, type or browse to the location in the Report File box.

17. Click **Apply**. The appropriate lines are added to your *.do* file at the last pointer location.

![](/layout/guide/44/_page_10_Picture_2.jpeg)

**Tip** To remove a line, select it in the *.do* file in the Editor area and press the Delete key on your keyboard.

## Loading In and Out of SPECCTRA Automatically
When you start SPECCTRA from within SailWind Layout, the SPECCTRA Link dialog box enables you to load in and out of SPECCTRA automatically.

If you set up the maximum number of vias in SailWind Layout, the SPECCTRA Link automatically passes them to SPECCTRA.

![](/layout/guide/44/_page_10_Picture_7.jpeg)

**CAUTION:**

If the maximum number of vias rule is not supported by the set of licensed SPECCTRA options you have enabled, SPECCTRA may ignore this rule or even disable autorouting.

The SPECCTRA Link passes various types of keepouts in SailWind Layout—such as placement, trace, and via keepouts— to SPECCTRA automatically: placement keepout (as place\_keepout), trace keepout (as wire\_keepout), and via keepout (as via\_keepout).

**Tip** If you want to have finer control of SPECCTRA, use the Stand-alone SPECCTRA Link dialog box to [load in and out of SPECCTRA manuallyon page 1012.](#page-11-0)

**Procedure**

- 1. On the File menu, click **Export**.
- 2. In the File Export dialog box, in the Save as type list, click **SPECCTRA Files (\*.dsn)**.
- 3. Browse to overwrite a file or type a new file name. Click **Save**.
- 4. In the SPECCTRA Link dialog box, type or browse for the *.DO* file you want to use.
- 5. To create or edit the *.DO* file, click DO File. For more information, see ["Creating or Editing a .do](#page-15-0)  [File](#page-15-0)".
- 6. To set the SPECCTRA automatic startup information, click **Setup**. (For more information, see "SPECCTRA Setup Dialog Box"on page 1729.)
- 7. To specify output files (routes file and session file), type in their locations on the Setup SPECCTRA Finish dialog box. To access it, click DO File on the SPECCTRA Link dialog box, then click **Finish**  on the SPECCTRA Do File dialog box and enter the file locations. (For more information, see ["SPECCTRA Output File Location and Router Settings](#page-9-0)".)
- 8. To set options for sending via keepout information, passing advanced rules, setting a trace arc translation mode, or returning unused pins net, click **Options**. (For more information, see "[Setting](#page-13-0)  [SPECCTRA Options"](#page-13-0).)
- 9. Click **Continue**. The design loads into SPECCTRA and the router runs in batch mode.

When translation completes, the modified design file appears on the screen, loaded into a new SailWind Layout session (unless "Launch SailWind Layout session" is cleared in the Setup dialog box). The Link starts a new session so it does not interrupt any current sessions. If you run the router overnight, you can close the SailWind Layout session to save memory.

## Loading In and Out of SPECCTRA Manually
If you start SPECCTRA independently of SailWind Layout, you can manually control the SPECCTRA interface. This gives you more control over how to use SPECCTRA. You can import from and export to SPECCTRA, and you can set instructions for the SPECCTRA router regarding actions performed when routing is completed (for example, running the mitering pass, running re-cornering, and inserting test points).

![](/layout/guide/44/_page_11_Picture_6.jpeg)

**Tip** If you want to start SPECCTRA from within SailWind Layout, you use the SPECCTRA Link dialog box to [load in and out of SPECCTRA automaticallyon page 1012.](#page-11-0)

**Procedure**

- 1. If you are in SailWind Layout, save the *.pcb* file.
- 2. Use Windows Explorer to navigate to your *C:\<install\_folder>\SailWind<version>\Programs* directory, and double-click *pads2sp.exe*.
- 3. In the SPECCTRA Link dialog box, to set up the SPECCTRA automatic startup information, click **Setup**. (For more information, see ["Setting the SPECCTRA Automatic Startup Information](#page-14-0)".)
- 4. To translate the *.pcb* file to SPECCTRA format click **To SPECCTRA**. The To SPECCTRA dialog box appears. (For more information, see ["Translating](#page-12-0) Design Data from SailWind Layout to [SPECCTRA](#page-12-0)".)
- 5. Start SPECCTRA.

![](/layout/guide/44/_page_11_Picture_14.jpeg)

**Tip** You can also launch SPECCTRA by checking the Startup SPECCTRA check box on the To SPECCTRA dialog box.

- 6. Use the File operations in SPECCTRA to load the translated design (*.dsn*) file.
- 7. When you are finished with SPECCTRA, to run the Link again to translate the output back to a *.pcb* design file, click **From SPECCTRA**. (For more information, see ["Translating](#page-12-1) Design Data from [SPECCTRA to SailWind Layout](#page-12-1)".)
- 8. Load the new *.pcb* file into SailWind Layout.

## Translating Design Data from SailWind Layout to SPECCTRA
Use the To SPECCTRA dialog box to translate a *.pcb* design file into a SPECCTRA design file.

**Procedure**

- 1. Use Windows Explorer to navigate to your *C:\<install\_folder>\SailWind<version>\Programs* directory, and double-click *pads2sp.exe*.
- 2. In the SPECCTRA Link dialog box, click **To SPECCTRA**.
- 3. To indicate the file to send to SPECCTRA, type or browse to the location in the PCB File box.
- 4. To indicate the design file (*.dsn*) that SPECCTRA inputs, type or browse to the location in the Design File box.
- 5. To indicate the *.do* file to send to SPECCTRA, type or browse to the location in the DO File box. The *.do* file is the script file that controls SPECCTRA operation.
- 6. To indicate the output file (*.did*) that SPECCTRA creates, type or browse to the location in the Did File box. This file serves as an input *.do* file in a subsequent SPECCTRA session.
- 7. To start SPECCTRA after the batch conversion is complete, click **Startup SPECCTRA**.
- 8. To create or edit the *.DO* file, click **DO File**. (For more information, see ["Creating or Editing a .do](#page-15-0) [File](#page-15-0).)
- 9. To set options for sending via keepout information, passing advanced rules, setting a trace arc translation mode, or returning unused pins net, click **Options**. (For more information, see "[Setting](#page-13-0)  [SPECCTRA Options"](#page-13-0).)

## Translating Design Data from SPECCTRA to SailWind Layout
Use the From SPECCTRA dialog box to translate design data modified by SPECCTRA back into a *.pcb*  design file.

**Procedure**

- 1. Use Windows Explorer to navigate to your *C:\<install\_folder>\SailWind<version>\Programs* directory, and double-click *pads2sp.exe*.
- 2. In the SPECCTRA Link dialog box, click **From SPECCTRA**.
- 3. To indicate the routing information file that is returned by SPECCTRA after processing, type or browse to the location in the SPECCTRA Routes box. Include the command to write this file after autorouting at the end of the *.do* file.
- 4. To indicate the placement and routing information file, type or browse to the location in the Session File box. You do not need to supply this file name if you did not use any of the SPECCTRA placement capabilities.
- 5. To indication the original (source) *.pcb* file, type or browse to the location in the Original PCB File box.
- 6. To indicate the file to be created from the SPECCTRA file, type or browse to the location in the New PCB File box.
- 7. To set options for sending via keepout information, passing advanced rules, setting a trace arc translation mode, or returning unused pins net, click **Options**. (For more information, see "[Setting](#page-13-0)  [SPECCTRA Options"](#page-13-0).)

## Setting SPECCTRA Options
The Options dialog box appears when you click the Options button on the SPECCTRA Link dialog box, the TO SPECCTRA dialog box (stand-alone), or the FROM SPECCTRA dialog box (stand-alone).

This dialog box controls options for sending via keepout information, passing advanced rules to SPECCTRA, setting a mode for trace arc translation, and returning the unused pins net from SPECCTRA. (For more information, see "[Unused Pins Net"](#page-0-0).)

**Procedure**

- 1. On the File menu, click **Export**.
- 2. In the File Export dialog box, in the Save as type list, click **SPECCTRA Files (\*.do)**.
- 3. Browse to overwrite a file or type a new file name. Click **Save**.
- 4. In the SPECCTRA Link dialog box, click **Options**.
- 5. To send via keepout areas from your decals to SPECCTRA, select the layer you want from the Layer Containing Via Keepout Shapes list.

![](/layout/guide/44/_page_13_Picture_13.jpeg)

**Tip** SailWind Layout fully supports keepouts in the Layout Editor. The preferred method to create a via keepout is to define keepouts in your decals.

- 6. To pass default Selected Layer and Selected Via rules to SPECCTRA, click **Pass Default Advanced Rules**. These rules require the Advanced Rules option in SPECCTRA. Turn this option on if you have this SPECCTRA option; otherwise, leave this option off. (For more information, see ["SailWind Layout to SPECCTRA Rules Conversion](#page-4-0)".)
- 7. Select from one of three modes to perform trace arc translation:

To Single Segment — Replaces each trace arc with a single segment. This is the default mode.

To Multiple Segments — Replaces a trace arc with multiple segments. The original trace arc is divided into smaller arcs (equal to approximately 5 degrees) and then each smaller arc is replaced by a single segment. The result is a polyline of multiple segments instead of the arc.

To Quarter Arcs (QARCs) — Breaks existing arcs into quarter arcs and other segments. (Quarter arcs are arcs whose start and end points are exactly 0–90, 90–180, 180–270, and 270–360 degrees.) The quarter arcs are translated to the SPECCTRA QARC structure. The remaining parts of arcs are translated to polylines.

8. To return unused pin and fanout information to SailWind Layout, click Return UNUSED\_PINS routing to SailWind Layout. Type the name of the net in the SailWind Layout design that will contain the unused pins. Provide a new name if you do not want to use the default.

The maximum netname length in SailWind Layout is 47 characters. You can use any alphanumeric characters except for brackets{ }, asterisks \*, or spaces.

Clear this option to ignore unused pin and fanout information when returning to SailWind Layout.

![](/layout/guide/44/_page_14_Picture_4.jpeg)

**Tip** SPECCTRA names the unused pins net +UNUSED\_PINS+ while previous versions named it \*UNUSED\_PINS\*. The SPECCTRA Link interprets both names.

## Setting the SPECCTRA Automatic Startup Information
Use the SPECCTRA Setup dialog box to set SPECCTRA automatic startup information.

**Procedure**

- 1. On the File menu, click **Export**.
- 2. In the File Export dialog box, in the Save as type list, click **SPECCTRA Files (\*.do)**.
- 3. Browse to overwrite a file or type a new file name. Click **Save**.
- 4. In the SPECCTRA Link dialog box, click the **Setup** button.
- 5. To indicate the executable needed to run SPECCTRA, type or browse to the location in the Executable box.
- 6. To indicate the password file needed to run SPECCTRA, type or browse to the location in the Password/Server box.

![](/layout/guide/44/_page_14_Picture_15.jpeg)

**Tip** For teal key node-locked or floating licensing, point to your license server in the standard port@host format. For example, 7508@myserver.

- 7. To indicate the SPECCTRA message output file, type or browse to the location in the Message Output box.
- 8. To indicate the SPECCTRA status file, type or browse to the location in the Status box.
- 9. To indicate the SPECCTRA color mapping file, type or browse to the location in the Color Mapping box.
- 10. To disable the SPECCTRA graphic display and make SPECCTRA run faster, click **No Graphics**.
- 11. To close SPECCTRA after it processes the *.do* file commands, click **Quit After Do**.
- 12. To delete all prerouted traces before entering SPECCTRA, click **No Preroutes**.
- 13. To ignore copper without net assignments, which have no net association in SPECCTRA, click **Don't Strip Orphan Shapes**.
- 14. To convert one-inch square, or smaller, polygons to simple rectangles, click **Simplify Polygons**.
- 15. Select the licensing type you want: Floating, Node-locked with Flexid Key, or Node-locked with SSI key.
- 16. To reload the routed design back into SailWind Layout after it processes the *.do* file commands, click **Launch SailWind Layout session**.

## Creating or Editing a .do File
The *.do* file is an editable batch script file, which controls SPECCTRA operation. You can add or edit command lines in a *.do* file. When you start the editor, the *.do* file you specify in the SPECCTRA Link dialog box is read for editing.

**Procedure**

- 1. On the File menu, click **Export**.
- 2. In the File Export dialog box, in the Save as type list, click **SPECCTRA Files (\*.do)**.
- 3. Browse to overwrite a file or type a new file name. Click **Save**.
- 4. In the SPECCTRA Link dialog box, do one of the following:
	- To create a new file, type the name of the new *.do* file in the DO File Name box and click **DO File**.
	- To edit an existing file, type or browse to the name of the *.do* file in the DO File Name box and click **DO File**.
- 5. The contents of the Setup and All areas change according to the options you select in the Setup area. Select the options you want and then click **Apply to Editor** to write the information to the *.do*  file. The commands appear in the Editor area.
	- Order -change the original net ordering and control whether nets are routed in daisy-chain or starburst fashion. (For more information, see "Order" and "Choosing Starburst or Daisy-Chain Wiring" topics in the *SPECCTRA Help*.)
	- Action control wire rerouting, net routing, and the availability of connections, vias, and layers for autorouting. (For more information, see the "Protect/Unprotect"," "Fix/Unfix," and "Select/ Unselect" topics in the *SPECCTRA Help*.)
	- Cost control routing costs and override the autorouter internal cost table. (For more information, see the "Cost," "Limit," "Tax," and "Using Standard Autorouting Commands" topics in the *SPECCTRA Help*.)

If you click Cost in the Cost area and Layer in the All area, options in the Type area appear. (For more information, see the "Type," "Length," "Way (Cost)," and "Way (Limit)" topics in the *SPECCTRA Help*.)

• Test Point Rule - control passing DFT Audit test point placement options to SPECCTRA for its test point placement routine. (For more information, see "[Data Passed to SPECCTRA](#page-1-0)", and the "Testpoint" and "Testpoint Antennas" topics in the *SPECCTRA Help*.)

| Option                  | Function                                                                                                                                                               |  |
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Insert Test Points      | Allows insertion of test points and makes the<br>options in the Test Points area available.                                                                            |  |
| Allow Points at Pins    | Allows placement of test points on component pins.<br>There is no equivalent in DFT Audit; test points are<br>always allowed on pins.                                  |  |
| Allow Antennas          | Allows antennas. Set a length.<br>There is no equivalent in DFT Audit.                                                                                                 |  |
| Max Length              | Sets the length restriction for antennas. The default<br>maximum length is negative one (-1), no length<br>restriction.                                                |  |
| Center to Center        | The distance between the centers of test points.                                                                                                                       |  |
| Center to Comp Edge     | The distance between the center of<br>the test point and the component<br>outline.                                                                                     |  |
| Image Outline Clearance | The clearance between the component outline and<br>the test point carrier (via or component pin). If the<br>Image Outline Clearance is negative, a zero (0) is<br>set. |  |
| Test Side               | Searches the specified side for test point<br>placement.                                                                                                               |  |
| Use Via                 | Uses vias as test points.                                                                                                                                              |  |
| Grid X, Y               | The test point grid.                                                                                                                                                   |  |
|                         | For more information, see "Grid Optionson<br>page 1537".                                                                                                               |  |

**Table 147. SPECCTRA Link Dialog Box Options**

- All area Limits actions to certain selected objects. The content of this area changes depending on the options you select in the Setup area.
- Only area Limits actions to certain selected objects.
- 6. Use the Routing area to set fanout rules: direction, pin type, and maximum length, and to set the Bus direction and enter the number of passes for each type.
- 7. To autoroute your design based on how your design is converging, click **Smart Route**. For more information see the *SPECCTRA Help*.
- 8. To write the commands to the *.do* file click **Apply to Editor**. The command appears in the Editor area.
- 9. Click **Startup** to set the startup information. (For more information, see ["Setting the SPECCTRA](#page-14-0) [Automatic Startup Information](#page-14-0)".)
- 10. Click **Finish** and set the parameters in the Setup SPECCTRA Finish dialog box. (For more information, see ["SPECCTRA Output File Location and Router Settings"](#page-9-0).)
- 11. Click **Apply** to save the parameters.
- 12. Click **Save As** to save the file and enter a name for the file. This is optional.
- 13. Click **Continue** to start the conversion and loading process.

## Setting up SPECCTRA .do File Startup Options
Use the Setup SPECCTRA Startup dialog box to include a line referencing previously entered routes, saved in Wires or Best Save files, in your *.do* file. SPECCTRA refers to these files upon startup. You can also include the name of the status file and parameters for Via at SMD, Seed Via, and Seed Via minimum distance.

For details on these files and functions see the SPECCTRA Design Language Reference PDF file *spdlr.pdf* in the SPECCTRA group.

**Procedure**

- 1. Click the **File> Export** menu item.
- 2. In the File Export dialog box, in the Save as type list, click **SPECCTRA Files (\*.do)**.
- 3. Browse to overwrite a file or type a new file name. Click Save.
- 4. In the SPECCTRA Link dialog box, click **DO File**.
- 5. In the SPECCTRA DO File dialog box, click **Startup**.
- 6. To indicate the wires file, type or browse to the location in the Wires File box.
- 7. To indicate the status file, type or browse to the location in the Status File box.
- 8. To indicate the Best Save file, type or browse to the location in the Best Save box.
- 9. To allow vias at SMD pads, select On in the Via at SMD area. To ensure that the via is on a grid point select On in the Grid area. To ensure that the via fits within the pad, select On in the Fit area.
- 10. To break up two-pin connections that are larger than a certain length, click Seed Via and type the length value in the Distance box.
- 11. Click **Apply**.

## SPECCTRA and Split/Mixed Planes
If you plan to use SPECCTRA to fanout or otherwise route your power nets to their associated plane area polygons, read this important information before you define your plane polygons in SailWind Layout.

During the development of the split/mixed plane features in SailWind Layout, certain operational details were discovered about the way that SPECCTRA routing commands respect plane polygons. To achieve proper attachment of power nets to plane polygons in SPECCTRA, use one of the following split plane definition procedures. Following these steps will ensure the highest possible quality routing results from SPECCTRA.

- If you typically define split planes after you route your designs in SPECCTRA, see the "[Defining](#page-20-0) [Split Planes After Routing in SPECCTRA"](#page-20-0) topic.
- If you typically define split planes before you route your designs in SPECCTRA, see the "[Defining](#page-19-0)  [Split Planes Before Routing in SPECCTRA](#page-19-0)" topic.

SPECCTRA translates split/mixed plane layers without routing, named copper, or plane polygons as power layers. SPECCTRA does not consider power layers as routing layers and, therefore, cannot route on these layers. This minimizes the layer count passed to the router. For example, you can route a fourlayer design with two power layers in a SPECCTRA configuration licensed for two routing layers.

SPECCTRA regards the entire plane as the area in which to connect component pins to all plane nets. The SPECCTRA fanout and route commands connect SMD component pins by routing short traces from the pins to vias to satisfy a connection to the plane.

For best results:

- Perform a multipass fanout of power pins before you execute multiple route passes by inserting the number of fanout passes in the command. For example, change "fanout (pin\_type power)" to "fanout 5 (pin\_type power)".
- Select the proper fanout options as defined in [Creating or Editing a .do File.](#page-15-0)
- Avoid assigning design rules to nets that are associated with split/mixed plane layers. If design rules are present the design will not open in SPECCTRA. The SPECCTRA Link automatically removes or ignores design rules associated with split/mixed plane layers.

**Routed Traces on SailWind Layout Split/Mixed Plane Layers**

With SailWind Layout you can route traces on split/mixed plane layers. This is also possible in SPECCTRA, but the file is automatically adjusted to achieve the proper results in SPECCTRA. These changes result in behavior modifications of the routing commands in SPECCTRA, possibly causing unexpected routing patterns.

**Adjustments to the Design**

SPECCTRA translates SailWind Layout split/mixed plane layers with routing or named copper as mixed, rather than power layers. Therefore, SPECCTRA routes on these layers, if necessary, to complete the design.

**Behavior Changes in SPECCTRA**

Mixed layers are translated as routing layers, increasing the layer count passed to SPECCTRA. For example, a four-layer design with two routing layers, one power layer, and one mixed layer is considered a three routing layer design and cannot be opened in a SPECCTRA configuration that is licensed for only two routing layers.

SPECCTRA considers plane polygons on mixed layers as areas available for connecting component pins to the plane net, but does not consider them obstacles to routing. Therefore, the fanout and route commands can add routes that pass through the plane polygons on SPECCTRA mixed layers.

Isolated instances of routing failure may occur. Failures may include the failure of the fanout command to connect pins to the plane polygons, or when the route command moves a connected plane net pin outside the area defined by the plane polygon, thus isolating the pin from the plane net.

To avoid the behavior changes, use one of the following procedures in your design process:

- Split the planes after routing. For more information, see "[SPECCTRA and Split/Mixed Planes"](#page-18-0).
- Unroute the offending traces before proceeding. Prior to passing the design to SPECCTRA, unroute any traces in the split/mixed layers. Remove any named copper. After routing in SPECCTRA completes and the design returns to SailWind Layout, reroute the traces you previously unrouted and restore the named copper shapes to the proper split/mixed layer.

**Related Topics**

[Creating or Editing a .do File](#page-15-0)

## Defining Split Planes Before Routing in SPECCTRA
When you can define your split planes before routing, you can use the advanced functionality of SailWind Layout and SPECCTRA to quickly route your split plane designs.

**Procedure**

1. Assign layers as split/mixed layer type: Before you can add split plane nets and data to a layer, you must assign the layer as split/mixed. (For more information, see "Layers Setup dialog box and Plane Layer Nets Dialog Boxon page 1640".)

For best results, limit the assignment of split/mixed to internal, embedded plane players. Assigning external routing layers as split/mixed layers may produce unexpected results.

2. Define the plane polygons: Create split plane polygons for each net assigned to the plane layer using the steps described in "Creating a Plane Area" and "Auto Separate."

With SailWind Layout you can define overlapping plane polygons, but plane flooding detects overlaps and automatically adjusts the plane fill area to eliminate overlaps. SPECCTRA does not offer features to automatically adjust overlapping polygons and may produce unexpected results when large numbers of overlapping polygons are translated.

For best results:

- Define your planes using the Auto Separate command only. This eliminates the possibility of overlapping plane areas or plane area cutouts.
- If you prefer to create planes as polygon rectangles and circles, create the smaller polygons first and then add polygons around them rather than creating a larger polygon and embedding a smaller polygon within it.
- 3. Route the design in SPECCTRA: Once you assign the proper layer and net data for the plane layer, you can transfer the design to SPECCTRA. (For more information, see "[Loading In and Out](#page-10-0)  [of SPECCTRA Automatically"](#page-10-0).)
- 4. Flood the split/mixed plane polygons: After routing is completed in SPECCTRA and the design returns to SailWind Layout, flood the plane polygons.
- 5. Verify plane net continuity: After flooding the planes, verify the continuity of the plane nets. This process scans the plane polygons and route data and reports portions of nets disconnected from the plane polygons. For information on how to do this, see "Verify the Design", "Plane Checking Setup", "Creating a Copper Plane Manually", "Creating a Copper Plane Automatically" and "Plane Checking Setup."

## Defining Split Planes After Routing in SPECCTRA
When your design process involves splitting planes after you route the design in SPECCTRA, you do this in SailWind Layout.

**Procedure**

1. Assign layers as Split/Mixed Plane Layer Type: Before you can add split plane nets and data to a layer, you must assign the layer as split/mixed. (For more information, see "Layers Setup Dialog Box" and Plane Layer Nets Dialog Box".)

For best results:

- Do not define a plane area polygon for the split/mixed layer prior to autorouting in SPECCTRA. SPECCTRA considers that the entire plane layer belongs to all nets and provides short fanout traces for SMD pins connected to the plane nets.
- Limit the assignment of split/mixed to internal, embedded plane layers. Assigning external routing layers as split/mixed layers may produce unexpected results.
- 2. Route the design in SPECCTRA: Once you assign the proper layer and net data for the plane layer, you can transfer the design to SPECCTRA. (For more information, see "[Loading In and Out](#page-10-0)  [of SPECCTRA Automatically"](#page-10-0).)
- 3. Define the plane polygons: Create split plane polygons for each net assigned to the plane layer using the steps described in "Creating a Plane Area" and "Auto Separate."

**Tip**

If you want to pass this design to SPECCTRA again after you define split/mixed planes, see the information below. Also see Routed Traces on SailWind Layout [Split/Mixed](#page-18-1) Plane [Layers](#page-18-1).

With SailWind Layout you can define overlapping plane polygons, but plane flooding detects overlaps and automatically adjusts the plane fill area to eliminate overlaps. SPECCTRA, however, does not offer features to automatically adjust overlapping polygons. SPECCTRA may produce unexpected results when large numbers of overlapping polygons are translated.

For best results:

- Define planes using Auto Separate only. This eliminates the possibility of overlapping plane areas or plane area cutouts.
- If you prefer to create planes as polygon rectangles and circles, create the smaller polygons first and then add polygons around them rather than creating a larger polygon and embedding a smaller polygon within it.
- 4. Flood the split/mixed plane polygons: After routing is completed and the design returns to SailWind Layout, flood the plane polygons.
- 5. Verify the plane net continuity: After flooding the planes, verify the continuity of the plane nets. This process scans the plane polygons and route data and reports portions of nets disconnected from the plane polygons. For information on how to do this, see "Verify the Design", "Plane Checking Setup", "Creating a Copper Plane Manually", "Creating a Copper Plane Automatically" and "Plane Checking Setup."