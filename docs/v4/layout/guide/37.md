# Chapter 37 Comparing Designs
This section discusses how to compare two versions of a design. It explains how to generate a differences report and the files you can use to update the older design to match the newer one.

Design Comparison Comparing Two Versions of a Design Comparing Designs Using ECOGEN Differences Report

## Design Comparison
You can compare two versions of a design and create the files needed to update the original design to match the new design. Before comparing a schematic to a PCB layout, create a PADS-format ASCII netlist file (*.asc*) by generating a netlist in SailWind Logic or other schematic tool.

When you compare the updated schematic to the original PCB layout and then update the PCB layout to match the schematic, the process is called forward to layout or forward annotation. Similarly, when you compare the updated PCB layout to the original schematic and then update the schematic to match the PCB layout, the process is called backward from layout or backward annotation.

If SailWind Layout and the schematic tool are on the same computer, you can use more convenient automated tools to compare and update design versions. If SailWind Layout and the schematic tool are not on the same computer, you can use SailWind Layout to compare two versions of the design. See the following for more information:

• For SailWind Logic, see "Working with SailWind Logic".

Design comparison can handle unused pins nets. An unused pins net contains all the component pins with no assigned net and groups them into one large net.

Design comparison does not do any of the following:

- Add pins removed from logic nets to the unused pins net.
- Use the reuse definition; the actual elements in the physical design reuse are used during comparison.

During comparison, it is assumed the new design contains the most current Attribute Dictionary. If an attribute is not ECO registered in the new design, the attribute is backward annotated only if you clear Compare only ECO Registered Parts check box on the Comparison tab of the Compare/ECO Tools dialog boxon page 1181. If an attribute is ECO registered in the new design, the attribute is backward annotated and the value in the old design is updated, but the ECO registration for the attribute in the old design is not updated.

## Comparing Two Versions of a Design
To compare two versions of a design, generate a new *.eco* file, a differences report, an ASCII file for back-annotating to a schematic, or all of them.

**Tip** As an alternative, you can use the ECOGENon page 844 command in SailWind Layout to do this.

You can compare two versions of a design in any of the following forms:

- The PCB design that is currently open in SailWind Layout
- A PADS-format ASCII netlist file (*.asc*) representing the schematic or the PCB layout
- A PCB layout file (*.pcb*)

If you are trying to forward or backward annotate design changes between SailWind Layout and SailWind Logic, you should record changes in an *.eco* file as you make them. This gives the best back-annotation results. For more information, see "Recording ECO Changesor " Backward Annotation from SailWind Layout to SailWind Logic.

For more details on the differences of these methods, see "Recorded Versus Generated ECO Files."

![](/layout/guide/37/_page_1_Picture_8.jpeg)

**Tip** If SailWind Layout and the schematic tool are on the same computer, you can use SailWind Layout Link in SailWind Logic to both create the ECO file and forward or back-annotate the schematic. For more information, see "Working with SailWind Logic".

**Procedure**

- 1. Click the **Tools > Compare/ECO** menu item.
- 2. In the Compare/ECO dialog box, on the Documents tabon page 1185, select the designs to compare as follows:
	- If the older design is in memory, and you want to compare it with a newer *.asc* or *.pcb* file, use these settings:

| Original Design to Compare and Update<br>V Use Current PCB Design |
|-------------------------------------------------------------------|
| Original Design File (*. pob, *. asc):                            |
| Layout.pcb                                                        |
|                                                                   |
| New Design with Changes<br>Use Current PCB Design                 |
| New Design File (*. pcb, *. asc):                                 |

• If the newer design is in memory, and you want to compare it with an older *.asc* or *.pcb* file, use these settings:

| Use Current PCB Design                                                                 |
|----------------------------------------------------------------------------------------|
| Original Design File (*. pob, *. asc):<br>C:\PADS Projects\<old_.asc_or_.pcb_filename> |
|                                                                                        |
|                                                                                        |
| New Design with Changes                                                                |
| V Use Current PCB Design                                                               |
| New Design File (".pcb, ".asc):                                                        |

• If neither design is in memory, and you want to compare an older*.asc* or *.pcb* file with a newer *.asc* or *.pcb* file, use these settings:

| Use Current PCB Design                      |
|---------------------------------------------|
| Original Design File (*. pcb, *. asc):      |
| C:\PADS Projects\<old_asc_or_.pcb_filename> |
|                                             |
| New Design with Changes                     |
| Use Current PCB Design                      |
| New Design File (*. pcb, *. asc):           |

- 3. In the Output Options area, select the files you want to generate.
- 4. Set the appropriate options on the Comparisonon page 1181and Updateon page 1187 tabs.
- 5. Click **Run** to compare the designs and create the files you specified. (The **Run** button becomes available when you select an option in the Output Options area.)
- 6. Click the **Show Report** buttons in the Process Status dialog box to view the generated files.
- 7. Click the **Close** button.

**Results**

Any messages or errors that occur during comparison are written to *Layout.err*, which is stored in the *\SailWind Projects* folder.

If the original design is in memory and you selected Update Original Design on the **Update** tab, the updates are automatically imported into the design when comparison is completed. To confirm that the updated design matches the new design, run the compare again, and select only the Generate Differences Report check box. If there are still differences, use the ECO Toolbar commands to correct the design.

If you did not select Update Original Design to automatically update the original design, click the **File> Export** menu item to import the *.eco* file and update the design.

After verification is complete, click the **Tools > Verify Design** menu item to check the design integrity.

**Tip** If commands in the ECO file added any parts at the origin in the updated original design, remember to place these parts and route any newly unrouted pin pairs.

**Related Topics**

Design Comparison

Comparing Designs Using ECOGEN

## Comparing Designs Using ECOGEN
After you make changes to a design, you can use the ECOGEN command to compare the new version of the design to the original, and create the files needed to update the original design to match the new design.

![](/layout/guide/37/_page_3_Picture_8.jpeg)

**Tip**

As an alternative, you can use the "Compare/ECO Tools dialog box" on page 1185 in SailWind Layout to do this.

It is good practice to record changes in an *.eco* file as you make them. This gives the best backannotation results. For more information, see "Recording ECO Changes". For more information on the differences between these methods, see "Recorded Versus Generated ECO Files".

If you want to compare the schematic to the PCB layout, export a PADS-format ASCII netlist file (*.asc*) from the schematic tool before comparing the designs.

**Restrictions and Limitations**

- ECOGEN always compares component and decal rules and Fanout and Pad entry rules, even if you do not specify the -l switch.
- ECOGEN does not generate change information for layers. For layer-dependent rules such as conditional rules, make sure the designs being compared have the same number of layers.
- ECOGEN ignores virtual pins.
- ECOGEN ignores the reuse definitionon page 1854 and uses the actual elements in the physical design reuse for comparisons.

**Prerequisites**

If you want to compare the schematic to the PCB layout, export a PADS-format ASCII netlist file (*.asc*) from the schematic tool before comparing the designs.

**Procedure**

1. Open the Windows command prompt.

Click the **Start> Windows Accessories > Windows System > Command Prompt** menu item.

- 2. Change to the folder where the *ecogen.exe* file resides, for example, C:\<install\_folder>\<version> \Programs.
- 3. Run ECOGEN in one of the following two ways:
	- Enter the ecogen command using the following format:

```
ecogen <new_design> <original_design> [<eco_out>] 
 [-u<unused net name>] [-e<error file>] [-d<report 
 file>] [-r[a][p]] [-a<attr mask>] [-f] [-l <rules mask>] 
 [-n<new_design_title>][-o<original_design_title>] [-g] [-s] [-m] 
 [-q] [-i <output unit>]
```
For example:

```
ecogen \ePD\3.1\project\logic.asc C:\SailWind Projects\pcb.asc
 design.eco -lNET,CLR -uNOT_CONNECTED
```
In this example, ECOGEN:

- Compares the original design (before changes), *logic.asc*, with the new design, *pcb.asc*
- Creates an ECO file, *design.eco*, which can be used for updating the original design, *logic.asc*
- Compares Clearances Rules for nets
- Specifies that NOT\_CONNECTED is an unused pins net as a result of SPECCTRA routing.

In the command line:

- You must enter the newDesign, originalDesign, and ecoFile arguments in the given order.
- If an argument contains spaces, enclose the argument with double-quotes " ".
- Type ECOGEN@<command\_file>, where <command file> is a pathname to a file containing all the parameters on one line.

**Examples**

The following table contains the parameter usage. Square brackets [ ] enclose optional parameters.

| Parameter         | Specifies                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| newDesign         | The design file containing the changes you want to place into the<br>original design.                                                                                                                                                                                                                                                                                               |
| originalDesign    | The design file that you want to update so that it matches the new<br>design.                                                                                                                                                                                                                                                                                                       |
| [eco_out]         | The ECO command file containing ECO directives. You can import this<br>file into the original design to update the original file.                                                                                                                                                                                                                                                   |
| [-aAttributeMask] | Attribute comparison and the attributes to be compared (AttributeMask)                                                                                                                                                                                                                                                                                                              |
|                   | This mask selects the object types for which to compare attributes. The<br>mask is a string of object types separated by commas without spaces.<br>You can specify these object types:                                                                                                                                                                                              |
|                   | PCB,PART,PARTTYPE,PARTDECAL,NET,NETCLASS,PIN                                                                                                                                                                                                                                                                                                                                        |
|                   | Specify the AttributeMask as a string of object types separated by<br>commas without spaces. for example: -aPART,NET                                                                                                                                                                                                                                                                |
|                   | If you want to ignore all attributes during comparison, do not specify the<br>-a switch. If you do not use this switch, existing attributes are preserved<br>and no ECO commands are generated for attribute modification.                                                                                                                                                          |
|                   | To compare part and net attributes, for example, for a SailWind Logic<br>schematic, use the -aPART,NET switch value.                                                                                                                                                                                                                                                                |
|                   | To compare board, part, net, and pin attributes, for example, for a<br>PADS Designerschematic, use the -aPCB,PART,NET,PIN switch value                                                                                                                                                                                                                                              |
|                   | To compare the attributes for all object types, use the -a<br>PCB,PART,PARTTYPE,PARTDECAL,NET,NETCLASS,PIN switch<br>value.                                                                                                                                                                                                                                                         |
| -dReportFile      | The file containing the differences between the original design and the<br>new design.                                                                                                                                                                                                                                                                                              |
| [-eErrorFile]     | The file containing ECOGEN status and error messages. ECOGEN<br>automatically opens the default editor you chose during installation to<br>display the error file.                                                                                                                                                                                                                  |
| [-f]              | Enables comparison of part decal assignment.                                                                                                                                                                                                                                                                                                                                        |
| [-g], [-q]        | Tip<br>• Do not use either the -g or -q switch if you want to compare<br>net names and reference designator names, and rename as<br>necessary.<br>• These switches are best used to minimize changes to routed<br>traces. Selecting this option may result in the positional<br>swapping of parts.<br>Use the -g switch to disable reference designator and net name<br>comparison. |
|                   | Use this switch to compare connectivity and topology (not names) and<br>rename as necessary. Compare differences using pin names, part type<br>names, and so on.                                                                                                                                                                                                                    |
|                   | Use the -q switch to suppress part renames.                                                                                                                                                                                                                                                                                                                                         |

**Table 122. Parameter Usage**

| Parameter          | Specifies                                                                                                                                                                                                                                                                                      |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | Use this switch to compare net names and reference designators, but<br>prefer adding or deleting parts to renaming parts. Compare differences<br>using reference designators or net names on the basis that few<br>reference designators have been renamed, but nets have not been<br>renamed. |
| [-iOutputUnit]     | Specifies an output unit for dimensional values in the ECO and report<br>files. (If you do not specify this switch, ECOGEN uses the output unit of<br>the new design.)                                                                                                                         |
|                    | You can specify an output unit of: BASIC, MILS, INCHES, or METRIC.                                                                                                                                                                                                                             |
|                    | If you specify an output unit that ECOGEN does not recognize (for<br>example, if you mistype the unit name), the command uses BASIC.                                                                                                                                                           |
| [-lRulesMask]      | Specifies rules comparison and the object types, rule types, and rule<br>kinds to be compared (RulesMask).                                                                                                                                                                                     |
|                    | For RulesMask, you can specify:                                                                                                                                                                                                                                                                |
|                    | • Object types: PCB, NET, NETCLASS, PINPAIR, and GROUP. If<br>you do not specify any object types, rules for all object types are<br>compared.                                                                                                                                                 |
|                    | • Rule types: Clearance, Routing and High Speed (CLR, RT, HS). If<br>you do not specify any rule types, all three types are compared.                                                                                                                                                          |
|                    | • Rule kinds: General, Conditional, and Differential Pairs (GEN,<br>CON, DFP). If you do not specify any rule kinds, all three kinds are<br>compared.                                                                                                                                          |
|                    | Specify the RulesMask as a string of object types separated by<br>commas without spaces. For example:                                                                                                                                                                                          |
|                    | -lNETCLASS,GROUP,CLR                                                                                                                                                                                                                                                                           |
|                    | If you do not specify a RulesMask, ECOGEN, compares rules of all<br>types and kinds on all object types.                                                                                                                                                                                       |
| [-m]               | Enables comparison of part placement. When comparing the PCB<br>layout to the schematic, this feature is available only for PADS Designer<br>schematics containing placement information created by ePlanner.                                                                                  |
| [-nNewDesignTitle] | The string used in the report header for the new design name.                                                                                                                                                                                                                                  |
| [-oOldDesignTitle] | The string used in the report header for the original design name.                                                                                                                                                                                                                             |
| [-r[a][p]]         | Enables comparison of only ECO registered [p]arts or [a]ttributes.                                                                                                                                                                                                                             |
|                    | Use the -rap switch to compare only ECO registered parts and<br>attributes.                                                                                                                                                                                                                    |
|                    | Use the -ra switch to compare only ECO registered attributes. Via<br>attributes are not ECO registered and cannot be added, deleted, or<br>changed during the ECO process.                                                                                                                     |
|                    | Use the -rp switch to compare only ECO registered parts.                                                                                                                                                                                                                                       |
|                    | Do not use the -r switch if you want ECOGEN to compare all parts and<br>attributes.                                                                                                                                                                                                            |

**Table 122. Parameter Usage(continued)**

| Parameter         | Specifies                                                                                                                                                                                                                                                                                                                                       |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                   | Do not use the -rap or -rp switches if you want to compare mechanical<br>or non-electrical parts on the designs.                                                                                                                                                                                                                                |
| [-uUnusedNetName] | Indicates an unused pins net that contains pins that have no logical<br>net association. This net is a result of SPECCTRA routing. Use the<br>netname you used in SPECCTRA. The maximum netname length is<br>47 characters. You can use any alphanumeric characters except curly<br>braces { }, asterisks *, spaces, question marks, or commas. |

**Table 122. Parameter Usage(continued)**

**Related Topics**

Design Comparison

Comparing Two Versions of a Design

## Differences Report
The Differences Report (*Layout.rep*) reports the results of a comparison of two design files. (You perform the comparison using the **Tools > Compare/ECO** menu item or the ecogen command in the Windows command prompt.) For example, you can compare a new design (one with changes) to the original design (before changes). The Differences Report lists the changes found in the new design as compared in the original design.

**Part Differences**

Lists part type information and part placement information in separate sub-sections.

The part type information sub-section lists the reference designator and the part type for both the old and new designs. Parts that exist only in the old design are listed under the New Design column as <none>. Parts that exist only in the new design are listed under the Old Design column as <none>. Parts that are renamed are listed on the same line. Parts that have new part types are listed on the same line. Parts that have new assigned decals are listed on the same line. Parts that are identical by reference designator and part type in both designs are not listed.

The part placement information sub-section lists the differences for each part's x/y coordinates, glue status, and mirror (flip) status. Part placement information is reported only for parts that exist in both the old design and the new design.

**Net Differences**

Lists names of the nets that do not exist. Lists the nets that match, but have different names, including nets in the old design that have been combined in the new design. A net split operation appears as pin differences. Nets are listed alphabetically under the Old Design column, except where multiple nets are combined, when they are listed in succession. Nets that do not exist in the old design are listed at the end of this section.

**Swapped-Gate Differences**

Lists any gates from the old design that are swapped with gates in the new design. The report lists reference designators for the parent components in the design followed by the pins in the gate.

**Swapped-Pin Differences**

Lists any swapped pins in the old design that are swapped with pins in the new design. This list provides reference designators for the components in the design followed by the swapped pins.

**Unmatched Net Pins in Old Design**

Lists any connected pins in the old design that are missing or connected to other nets in the new design. These are the pins that are deleted from nets during the ECO process. This list provides net names in the old design followed by unmatched pins in the net. If the net does not exist in the new design, all pins in the net are listed.

**Unmatched Net Pins in New Design**

Lists any connected pins in the new design that are missing or connected to other nets in the old design. These are the pins that are added to nets during the ECO process. This list provides net names in the new design followed by unmatched pins in the net. If the net does not exist in the old design, all pins in the net are listed.

**Attribute Differences**

Lists each object under the following headings: Attribute Name, Old Value, and New Value. Attribute differences are included only for objects that exist in both the old design and the new design. If an attribute is missing in either design, the value is listed as <no attr>. If the attribute exists, but has no value, it is listed as <no value>.

![](/layout/guide/37/_page_8_Picture_9.jpeg)

**Tip** To generate a report containing the mechanical (nonelectrical) parts in the design, clear the "Compare only ECO Registered Parts" check box on the Comparison tabon page 1181 of the Compare/ECO Tools dialog box.

**Unmatched Net Pin Pairs in Old Design**

Lists any pin pairs in the old design that are missing, connected to other nets, or connected to the same scheduled net in a different place in the new design. These would be the pin pairs that would be deleted from nets during the ECO process.

The report lists net names in the old design followed by the unmatched pin pairs in the net. If the net is missing in the new design, then all the pin pairs in the net are listed.

**Unmatched Net Pin Pairs in New Design**

Lists any connected pin pairs in the new design that are missing, connected to other nets, or connected to the same scheduled net in a different place in the old design. These would be the pin pairs that would be added to nets during the ECO process.

The report lists net names in the new design followed by the unmatched pin pairs in the net. If the net is missing in the old design, then all the pin pairs in the net are listed.

**Rules Differences**

This section reports differences in design rules between two designs. This section lists each object that has rules differences as a subheading. The subheading has three columns: Rule Name, Old Value, and new Value. (The Rules Differences section heading shows the units in which the values for rules are displayed.)

The subheading for each object type includes:

- The object type
- The object name in the original design
- The object name in the new design (if the name is different)
- The rule type

For example:

```
RULES DIFFERENCES (Values in mils)
 Old Object Name -> New Object Name -> Rule Type
 Rule Name Old Value New Value
 NETCLS CLASS1 -> MYCLS ROUTING
 PIN_SHARE ON OFF
 VALID_LAYERS Top Bottom
```
This example shows a routing rule set change for the CLASS1 class. The change renamed CLASS1 to MYCLS and included changed in the pin share and valid layers rules. No other routing rules were changed.

**Differences in Net Classes**

This section lists names of net classes that:

- Do not exist in one design or another. (Classes that do not exist in the original design appear at the end of the section.)
- Match but have different names

For example:

|        |            | NET CLASS DIFFERENCES |         |            |
|--------|------------|-----------------------|---------|------------|
|        | Old Design |                       |         | New Design |
| CLASS1 |            |                       | MYCLASS |            |
| CLASS2 |            |                       | <none>  |            |
| <none> |            |                       | NEWCLS  |            |

This example shows that in the new design:

- The CLASS1 net class was renamed to MYCLASS.
- The CLASS2 net class was removed.
- The NEWCLS net class was added.

**Class Nets That Were Removed**

This section reports nets that are in the original design but were removed from the new design. (The net class in the original design has nets either not included in the new design or included in different net classes in the new design.)

This section lists:

- Each net class in the original design from which nets were removed and the names of those removed nets
- All of the nets in the net class if the net class does not exist in the new design

**For example:**

| REMOVED CLASS NETS |                          |            |            |
|--------------------|--------------------------|------------|------------|
| CLASS1             | \$\$\$1879<br>\$\$\$1920 | \$\$\$1906 | \$\$\$1928 |
| CLSMESH            | GNC                      | VCC        |            |

This example shows:

- Nets \$\$\$1879, \$\$\$1906, \$\$\$1928, and \$\$\$1920 in the CLASS1 net class of the original design are missing from that net class in the new design.
- Nets GND and VCC in the CLSMESH class of the original design are missing from that net class in the new design.

If you use the ECO operation to update the original design, the operation deletes the nets from net classes in the original design.

**Class Nets That Were Added**

This section reports nets that are not in the original design and are added in the new design. (The net class in the new design has nets either not included in the original design or included in different net classes in the original design.)

This section lists:

- Each net class that has added nets in the new design and the names of added nets
- All of the nets in the net class if the net class is new (does not exist in the original design)

**For example:**

ADDED CLASS NETS CLASS1 ANDROID BAJOR SPOT DATA00 DATA01 CLSMESH ZORG GND2

This example shows that in the new design:

- ANDROID, BAJOR, SPOT, DATA00, and DATA01 nets were added to CLASS1.
- ZORG and GND2 nets were added to the CLSMESH class.

**Differences in Pin-Pair Groups**

This section lists pin-pair groups that:

- Do not exist in one design or the other. Pin-pair groups that do not exist in the original design appear at the end of the section.
- Match but have different names.

For example:

```
PIN-PAIR GROUP DIFFERENCES
Old Design New Design
GROUP1 <none>
GROUP2 GROUPB
<none> NEWGRP
```
This example shows that in the new (changed) design:

- The GROUP1 pin-pair group was removed.
- The GROUP2 pin-pair group was renamed to GROUPB.
- The NEWGRP pin-pair group was added.

**Pin Pairs That Were Removed From Groups**

This section reports pin-pairs that were in the original design but removed from the new design. (The pinpair group in the original design has pin-pairs either not included in the new design or included in different groups in the new design.)

This section lists:

- Each group in the original design from which pin-pairs were removed and the names of removed pin-pairs
- All of the pin-pairs in the group if the group does not exist in the new design

For example:

```
REMOVED GROUP PIN-PAIRS
GROUP1 U2.2-U1.2 U3.3-U2.2 U3.2-U4.2
 U1.5-U2.5 U4.5-U1.5
GLMESH R102.1-C2.2
```
This example shows that in the new (changed) design:

- Five pin-pairs were removed from GROUP1.
- The pin-pair R102.1-C2.2 was removed from the GLMESH group.

**Pin-Pairs That Were Added to Groups**

This section reports pin-pairs in the new design that are not in the original design. (The pin-pair group in the new design has pin-pairs either not included in the original design or included in different groups in the original design.) An ECO operation adds these pin-pairs.

This section lists:

- Each group with added pin-pairs in the new design and the names of added pin-pairs.
- All of the pin-pairs in the group if the group is new (does not exist in the original design).

**For example:**

```
UNMATCHED GROUP PIN-PAIRS
G U2.2-U1.2 U3.2-U2.2
DASL R29.2-U23.17
```
This example shows that in the new (changed) design:

- Two pin-pairs were added to the G group.
- The pin-pair R29.2-U23.17 was added to the DASL group.