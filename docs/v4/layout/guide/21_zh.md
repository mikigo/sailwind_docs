# 第 21 章 元件布局  

阅读以下主题，了解元件布局操作的多种方法和策略。您还可以了解元件布局命令的操作，以及如何更改或修改布局、分散元件、使用联合（unions）和集群（clusters）的相关信息。  

## 布局策略  

元件布局取决于多种因素。除了连接长度和间距容差外，制造考虑因素（如贴片机的可访问性和焊接处理）也会影响布局。在确定制造策略并导入网络表后，使用交互式布局工具优化布局方案。  

辅助元件布局的工具包括：  

- 通过参考标识符或位置查找和选择元件的“查找”功能  

- 通过无模命令设置的 x 和 y 坐标独立网格  

- 交互式元件对齐功能  

- 启用 DRC 的“轻推”交互式元件推挤功能  

- 网络长度最小化  

- 连接长度最小化  

- 自动和交互式元件、引脚和门交换  

- 自动元件重新编号  

请记得将工程变更指令（ECO）反向标注到原理图。  

## 布局指南  

以下指南将帮助您优化元件布局设计。  

良好的布局方案应：  

- 遵守所有对元件位置和走线布线的限制。  

- 提供最简单的布线解决方案。  

布局的一般顺序如下：  

1. 放置所有位置固定的元件，如连接器、需要特定位置的 IC 和安装孔。  

2. 由于连接器通常具有密集的连接模式，需在连接器与其他连接器或第一排 IC 之间留出足够的空间。连接器与最近的 IC 行之间至少保留 0.5 密耳间距。  

3. 放置有工程限制的元件，如必须保持一定距离的元件、不能相邻的元件以及必须靠近连接器的元件。  

4. 放置没有严格布局要求的元件。遵循以下通用指南：  

   - 元件的焊盘应落在自动布线时使用的网格上。常用网格增量包括 100、50、25、20、16.67、12.5 或 10 密耳。放置元件前设置设计网格。  

   - 连接应尽量垂直或水平走线，减少对角线连接。  

   - 元件焊盘应垂直或水平对齐，以免阻塞布线通道。如果两个 IC 并排放置且焊盘错开 50 密耳，其中一个 IC 的焊盘会阻塞另一个 IC 的布线通道。  

   - 出于制造考虑，板上所有 IC 最好保持同一方向，而非部分垂直、部分水平。  

## 元件布局流程  

SailWind Layout 最初将所有元件叠加在顶层的原点处。在放置元件之前，需创建板轮廓、设置设计层、定义网格值，并配置与元件布局相关的间距设计规则。  

布局时可使用多种命令：  

• 切换到 SailWind Router 并完成所有布局操作。  

**限制：** 在 SailWind Router 中无法使用联合、集群或复用项目辅助布局。  

• 点击 **工具 > 分散元件** 菜单项，将所有元件分散到板轮廓周围。  


**提示** 分散元件后，点击 **视图 > 范围** 菜单项以显示所有设计对象。  

- 移动设计中的元件。更多信息，请参阅“移动元件”。  

- 在极坐标网格上径向排列元件。更多信息，请参阅“设置极坐标网格”。  

- 依次移动多个元件。更多信息，请参阅“顺序元件布局”。  

- 将元件翻转到底层。更多信息，请参阅“修改元件的板面位置（底视图）”。  

- 创建元件阵列。更多信息，请参阅“创建元件阵列”。  

- 对齐多个元件的边缘或中心线。更多信息，请参阅“对齐对象”。  

- 以 90 度增量或任意角度旋转对象。更多信息，请参阅“旋转对象、旋转对象”。  

- 交换两个元件的位置。更多信息，请参阅“交换元件”。  

- 自动轻推重叠元件以符合间距规则。如果禁用设计规则检查（DRC），可将元件放置在违反设计规则的位置。更多信息，请参阅“轻推重叠元件”。  

## 设置对象的原点  

设置对象的原点以移动或放置它。可以为板轮廓、2D 线、封装形状（在 PCB 封装编辑器中）、铜箔形状、禁止区域形状和尺寸标注形状设置原点。  

在创建尺寸标注形状或绘图形状时，可通过弹出菜单设置对象的原点。  

**操作步骤**  

1. 选择整个形状。  


**提示** 右键单击并选择 **选择形状**、**选择文档** 或 **选择板轮廓** 快捷菜单项以选择整个形状。或者，按住 Shift 键并选择一段——这将选择形状而非线段或角落。  

2. 右键单击并选择 **设置原点** 弹出菜单项。  

3. 点击设置新的原点。系统会显示确认消息。  

4. 点击 **是** 更改原点，或点击 **否** 保留原原点。  

5. 按 Esc 键退出“设置原点”模式。  

## 布局与长度最小化  

开始布局前，设置网络、网络类别或规则层次结构中默认级别的拓扑类型。*拓扑*是走线的连接模式和网络中引脚连接的顺序。长度最小化工具会根据您设置的拓扑类型重新排序引脚连接。  

长度最小化不会更改网络表，它只是根据网络表找到更好的连接方式。例如，如果为网络指定“最小化”拓扑，长度最小化会找到产生最短引脚到引脚连接的引脚顺序。  

移动元件时，长度最小化会实时进行。如果拓扑类型未设置为“保护”，您可以看到飞线连接在移动元件的引脚与其他元件最近的可用端子之间链接或断开。同时，移动元件时，消息行会显示“新长度/旧长度”的实时比例。100 表示移动时所有连接网络的长度为原始长度的 100%。若比例小于 100，表示长度优化；若大于 100，表示长度变差。  

若对布局满意，还可使用“长度最小化”命令对整个板进行长度优化。  

通常，最小化连接长度应是布局的主要目标。但仅依赖最小连接长度可能导致连接密集区域（通常在板中心），超出该区域的可用布线通道。因此，在最小化连接长度后，需检查是否存在关键密集区域，并局部调整元件位置以分散连接。  

元件交换也依赖于拓扑类型。长度最小化和元件交换无需生成 ECO 文件。但门交换、引脚交换和 ECL 终端交换均需记录在 ECO 文件中以反向标注。某些高速或关键网络可能需要设置为“保护”拓扑类型后再开始布局。  

## 控制长度最小化  

可通过不同方法控制长度最小化，每种方法对设计环境的影响不同。  

长度最小化的控制分为两个层级：  

- “选项”对话框“设计”类别中的“长度最小化”设置，决定移动元件时是否及何时进行长度最小化——移动过程中或移动后（后者占用更少显示内存）。  

- 更详细的控制在“默认”或规则层次中的“布线规则”对话框中配置。更多信息，请参阅第 1666 页的“布线规则对话框”主题。  

## 最小化未布线连接长度  

开始布局前，考虑设置所需的拓扑类型。运行长度最小化不会更改网络表，它只是根据您设置的拓扑类型找到更好的连接方式。  

**操作步骤**  

点击 **工具 > 长度最小化** 菜单项。  

网络将重新排序以最小化连接点之间的长度。  


## 与布局相关的工程变更指令（ECOs）  

工程变更指令（ECO）是从原理图传递到板设计的更改，或在布局中发生并影响原理图的更改。  

由于普通长度最小化和元件交换不会更改网络表，无需将其反向标注到原理图。但门交换、引脚交换和参考标识符重新编号等操作需记录在*.eco 文件中。因此，这些命令位于 ECO 工具栏上。访问 ECO 工具栏时，系统会自动提示创建此文件。  

## 布局期间使用查找对话框  

如果使用*.asc 格式导入元件，布局通常从设计原点叠加所有元件开始。  

您可以使用查找对话框选择特定元件或某类封装组。该对话框还可将元件附加到指针上以便单独放置。  

## 元件间距  

SailWind Layout 提供自动规则检查以确保元件间有足够的间距。  

**间距基础**  

启用设计网格的“对齐到网格”设置时，软件会根据设计网格的单位放置元件。  

如果设置了“本体到本体间距”规则（第 1167 页）且在线 DRC（第 1503 页）处于“防止错误”模式，软件会阻止元件重叠。  

![](/layout/guide/21/_page_5_Figure_10.jpeg)  

上图展示了 DRC 在不同设计场景中对间距规则的解释示例。  

在布局操作期间（启用在线 DRC 时），系统会检查待放置元件的设计规则，并与其他设计对象（包括其他元件、板轮廓和板切口）进行比较。  

所有设计规则均独立且平等执行。如果为每条间距规则指定了值，则会单独检查。布局操作期间（启用在线 DRC 时），若任何间距规则违反指定值，系统会阻止元件放置。  

通常，当元件靠近另一个元件时，系统会检查以下设计规则（如果已赋值）：  

- 本体/层 20（放置）轮廓与其他本体/层 20（放置）轮廓  

- 本体/层 20（放置）轮廓与板轮廓或板切口  

- 焊盘/SMD 与焊盘/过孔/SMD/走线/铜箔/文本/板/钻孔的间距（支持完整规则层次）  

- 焊盘和 SMD 同网络间距（支持完整规则层次）  

元件本体被视为以下层上任何 2D 线对象的最远延伸：  

- 元件层（顶层或底层）  

- 元件层关联的丝印层（丝印顶层或底层）  

- 所有层/层 0（零）。  

只有一个“本体到本体”间距值适用于所有元件。  

**本体到本体检查规则**  

启用 DRC 的布局操作中，“本体到本体”检查有特定规则：  

- 若本体轮廓遇到另一个本体轮廓且无其他间距违规，则应用“本体到本体”规则。  

- SailWind Layout 没有“本体到焊盘/SMD”设计规则，因此当元件本体/层 20（放置）轮廓靠近另一个元件的通孔或 SMD 焊盘时，检查时会使用“本体到本体”间距值作为最小目标间距。  

- 若元件的通孔或 SMD 焊盘靠近另一个元件的通孔或 SMD 焊盘，且元件本体/层 20（放置）轮廓未违反“本体到本体”间距值，则系统强制执行相应的焊盘/SMD 与焊盘/过孔/SMD/走线/铜箔/文本/板/钻孔间距（支持完整规则层次）。  

DRC 检查以下对象之间的“本体到本体”间距：  

- 元件本体轮廓与元件本体轮廓  

- 层 20 轮廓与层 20 轮廓  

- 元件本体轮廓与层 20 轮廓  

软件通过定义元件本体的 2D 线边缘测量“本体到本体”间距。  

**高级间距**  

虽然单个“本体到本体”间距可能满足多数元件需求，但某些元件可能需要额外间距（如贴片或返工时）。  

可在层 20 上创建自定义间距轮廓。软件在布局过程中使用此更大的放置轮廓（称为“元件 courtyard”或“轻推轮廓”）为元件周围创建更多空间。软件将层 20（放置）轮廓视为元件本体的一部分，遇到时即触发“本体到本体”间距规则。  


**提示** 在扩展层模式（第 315 页）下，层 20 变为层 120。  

![](/layout/guide/21/_page_7_Picture_10.jpeg)  

**碰撞预防**  

若将“轻推”选项设置为“自动”或“提示”，尝试重叠元件时，元件会自动轻推或提示移动方向以避开当前放置的元件。  

若禁用“轻推”并在布局期间关闭在线 DRC，可通过 **工具 > 轻推元件** 命令轻推所有违规元件，但无法控制其移动位置。  

使用“创建阵列”对话框可按指定值自动排列元件的行和列。  

**间距验证**  

若不确定元件是否违反设计规则，可运行间距检查（点击 **验证设计 > 间距** 菜单项）。确保元件的所有部分（包括层 20 的轮廓颜色）可见，因为间距检查仅验证可见且在视图内的对象。  

在“间距检查设置”（第 1164 页）中勾选以下选项：  

- “本体到本体”：检查元件本体之间的“本体到本体”间距值。  

- “放置轮廓”：检查层 20 轮廓之间的“本体到本体”间距值。  

**注意：**  

若同时勾选“本体到本体”和“放置轮廓”，系统还会检查元件本体轮廓与层 20 轮廓之间的间距违规。  

## 移动元件  

可按需移动元件以优化布局。  

**操作步骤**  

1. 通过以下方法之一将元件附加到指针：  

   - 在标准工具栏上，点击 **设计工具栏** 按钮显示设计工具栏。点击 **移动**，然后选择元件。每次只能移动一个元件。  

   - 未选择任何对象时，右键单击并选择 **选择元件**，然后选择一个或多个元件拖动到目标位置。“拖动移动”选项（第 1531 页）需设置为“拖动并附加”或“拖动并放置”。更多信息，请参阅“全局 > 常规选项”中的“拖动移动”区域（第 1531 页）。  

   - 未选择任何对象时，右键单击并选择 **选择元件**，然后选择一个或多个元件，右键单击并选择 **移动**。  

   - 未选择任何对象时，右键单击并选择 **选择元件**，然后选择一个或多个元件，在设计工具栏上点击 **移动** 按钮。  

若移动带有锁定测试点的元件，会显示警告。更多信息，请参阅“故障排除”。  

移动组时，可能在“走线复制”对话框中显示错误。  

若尝试移动物理设计复用的一部分，会显示消息“复用元素不可修改，请先解除复用”。点击 **确定** 取消移动。  

2. 根据“移动偏好”选项（第 1503 页），元件将附加到指针。  

**提示**  

元件附加到光标时，可右键单击并选择 **旋转 90 度**、**旋转**、**翻转面**、更改移动偏好、启用“对齐到对象”（第 1540 页）或设置在线 DRC（第 1503 页）以忽略间距规则。放置底层元件时，使用“底视图”可获得更真实的视角。  

3. 通过以下方法之一放置元件：  

   - 移动指针到新位置并点击放置元件。  

   - 使用无模命令定位到特定坐标。按空格键放置元件（替代可能移动指针的鼠标点击）。  

## 通过原点移动项目  

同时选择多个对象时，可使用不同的移动原点。  

若在“选项”对话框的“设计”类别中选择“通过原点移动”，指针会吸附到组的中心（根据组范围计算），并将其作为移动原点。  

## 移动时拉伸走线  

选择带有部分走线连接的元件时，若在“选项”对话框的“设计”类别中启用“移动元件时拉伸走线”，走线会保持与引脚的连接。  

每条连接到移动元件引脚的走线会重新连接到新引脚位置。若 DRC 关闭，则添加直线段；若 DRC 开启，则使用自动布线平滑走线。若未启用“移动元件时拉伸走线”，则会在走线连接点之间创建未布线连接。  

## 径向移动设计对象  

使用“径向移动”调整对象的朝向。此命令支持创建圆形封装和圆形板设计，也可用于文本和参考标识符。  

**限制与局限性**  

- 需设置极坐标网格（第 352 页）。  

- 在 PCB 封装编辑器中，仅能对端子使用径向移动。  

**操作步骤**  

1. 选择单个或多个元件或联合。在 PCB 封装编辑器中，选择单个或多个端子。  

2. 在标准工具栏上，点击 **设计工具栏** 按钮显示设计工具栏。  

3. 在设计工具栏上，点击 **径向移动** 按钮。状态栏会显示当前极坐标半径、极角位置以及角度和半径增量。  

**提示** 也可通过动词模式径向移动设计对象。首先点击 **径向移动** 按钮，然后选择要移动的对象。此方法可保持径向移动命令激活，便于重复操作。  

4. 若未提前设置极坐标网格，点击 **工具 > 选项**，选择 **网格** 类别，然后点击 **径向移动设置**。在对话框中设置极坐标网格和移动选项后点击 **确定**。SailWind Layout 会保存设置供当前会话后续使用。  

极坐标网格显示，所选对象附加到指针。  

5. 将所选对象移动到极坐标网格上的有效位置。  

6. 点击放置对象。  


**提示** 退出径向移动后，极坐标网格关闭。使用无模命令 GP（第 83 页）可独立开关极坐标网格。  

**示例**  

在极坐标网格上放置或移动元件的方法与标准 x/y 网格略有不同。以下示例展示极坐标网格下的放置和移动行为。  

下图展示了一个极坐标网格定义示例。  

![](/layout/guide/21/_page_11_Figure_1.jpeg)  

**图 31. 极坐标网格定义示例**  

下表展示了上图极坐标网格的径向移动设置。  

| 选项              | 设置                         |  |  |  |  |  |  |  
|---------------------|---------------------------------|--|--|--|--|--|--|  
| 极坐标原点   | X=1000, Y=1000                  |  |  |  |  |  |  |  
| 内半径        | 100（密耳）                      |  |  |  |  |  |  |  
| 半径增量        | 100（密耳）                      |  |  |  |  |  |  |  
| 起始角度         | 30.000（度）                |  |  |  |  |  |  |  
| 角度范围         | 360.000（度）               |  |  |  |  |  |  |  
| 角度增量         | 20.000（度）                |  |  |  |  |  |  |  
| 每环站点数      | 18                              |  |  |  |  |  |  |  
| 方向           | 顺时针                       |  |  |  |  |  |  |  
| 自动旋转         | 开启                              |  |  |  |  |  |  |  
| 分散            | 开启                              |  |  |  |  |  |  |  
| 使用离散半径 | 开启                              |  |  |  |  |  |  |  
| 使用离散角度  | 开启                              |  |  |  |  |  |  |  
| 极坐标朝向   | 手动指定, 0.000（度） |  |  |  |  |  |  |  

**表 96. 径向移动设置**

## 径向移动快捷菜单

径向移动快捷菜单提供了一组特定命令，用于在径向移动操作期间使用，例如旋转或翻转对象，或指定在移动过程中抓取对象的位置。

右键单击可打开径向移动快捷菜单（表 97）。



| 命令                  | 描述                                                                                                                                                                                                                                                                                        |  |  |  |  |  |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|--|--|
| 属性                  | 查询元件或组合。<br>更多信息请参见"修改元件属性"。                                                                                                                                                                                                                                           |  |  |  |  |  |
| 旋转 90 度              | 旋转零件，同时计算零件相对于径向方向的方位，从网格原点到零件移动原点的当前位置。<br>每个零件或组合使用其单独的原始点旋转。<br>更多信息请参见"旋转对象"。                                                                                                                                    |  |  |  |  |  |
| 翻转侧面              | 围绕其径向方向单独翻转每个对象。<br>更多信息请参见"翻转元件"。                                                                                                                                                                                                                              |  |  |  |  |  |
| 按光标位置移动        | 根据光标位置与移动对象原点之间的关系移动对象。<br>默认移动首选项可在选项对话框的设计类别中找到。                                                                                                                              |  |  |  |  |  |
| 按原点移动            | 通过对象的原点移动对象。<br>默认移动首选项可在选项对话框的设计类别中找到。                                                                                                                                                                                                                  |  |  |  |  |  |
| 按中点移动            | 通过对象或对象组的中点移动对象。<br>捕捉到当前指针位置。<br>默认移动首选项可在选项对话框的设计类别中找到。                                                                                                                     |  |  |  |  |  |
| 忽略间距              | 暂时忽略设计规则的间距。<br>默认在线 DRC 设置可在选项对话框的设计类别中找到。                                                                                                                                                                                                                 |  |  |  |  |  |

**表 97. 径向移动快捷菜单项**

## 顺序元件放置

选择预定的元件组后，您可以使用"顺序移动"命令依次将元件放置在指针上以便在设计中进行放置。

使用查找对话框顺序放置元件 在工作区中顺序放置元件

### 使用查找对话框顺序放置元件

使用查找对话框通过从列表中选择元件来选择它们。此方法按字母数字顺序将元件放置在光标上。

**步骤**

1. 单击**编辑>查找**菜单项。

2. 在查找对话框中，将查找依据设置为参考标识符、零件类型、封装、组合或集群。


**提示** 选择多个参考标识符前缀、零件类型或封装以扩展可用元件列表。

3. 从结果列表中，选择所有要移动的零件。拖动或使用 Shift+单击选择一系列元件，和/或使用 Ctrl+单击选择多个元件。

4. 在操作列表中，选择顺序移动。

当与查找对话框一起使用时，按升序参考标识符顺序移动没有功能。元件始终按升序参考标识符顺序添加到指针上。此功能仅用于工作区中顺序放置元件的方法。

5. 单击**确定**。

6. 在对话框中，"继续下一个对象？<值>"，单击：

   - **是** 以依次将零件附加到光标上，但在每次放置后提示，以便您根据需要跳过元件

   - **全部是** 如果选择的字母数字顺序可以接受且您不打算跳过元件

   - **否** 跳过此零件，转到下一个

第一个零件附加到指针上以便放置。零件按升序参考标识符顺序附加到指针上。

当零件附加到指针上时，您可以右键单击以访问旋转 90 度、旋转模式、翻转、移动首选项和捕捉到功能和命令。您还可以使用无模命令。如果为顺序移动选择的零件有一个锁定测试点的引脚，则会显示警告对话框，通知您对测试点所做的更改。测试点在路由选项第 1542 页被锁定。

7. 单击以放置每个元件、组合或集群。

### 在工作区中顺序放置元件

您可以通过使用项目资源管理器或直接在工作区中右键单击应用顺序移动命令来选择元件。此方法按您选择顺序的相反顺序将元件放置在光标上 - 最后选择的元件首先附加到光标上。

**步骤**

1. 使用以下一种或两种方法选择元件：

   - 在项目资源管理器中启用允许选择第 53 页后，使用 Ctrl+单击选择多个元件。

   - 在工作区中，未选择任何内容时，右键单击并单击**选择元件**、**选择组合/元件**或**选择集群**弹出菜单项。使用 Ctrl+单击，选择多个元件、组合或集群。

零件按选择顺序附加到指针上。第一个选择的元件是第一个附加到指针上的元件。您可以在后续步骤中覆盖此顺序。

2. 在工作区中，右键单击并单击**顺序移动**弹出菜单项。

**注意：** 按升序参考标识符顺序移动可以覆盖您选择元件的顺序，并按升序参考标识符顺序将元件放置在指针上。

3. 在对话框中，"继续下一个对象？<值>"，单击：

   - **是** 以依次将零件附加到光标上，但在每次放置后提示，以便您根据需要跳过元件

   - **全部是** 如果选择的字母数字顺序可以接受且您不打算跳过元件

   - **否** 跳过此零件，转到下一个

第一个零件附加到指针上以便放置。当零件附加到指针上时，您可以右键单击以访问旋转 90 度、旋转模式、翻转、移动首选项和捕捉到功能和命令。您还可以使用无模命令。

您可以在设计选项第 1503 页将移动首选项设置为通过其原点或中点选择零件。

放置使用当前设计网格。要使用径向移动放置元件，请使用 GP 无模命令第 83 页打开极坐标网格。

如果为顺序移动选择的零件有一个锁定测试点的引脚，则会显示警告对话框，通知您对测试点所做的更改。测试点在路由选项第 1542 页被锁定。更多信息请参见"故障排除"。

4. 单击以放置元件。

## 修改元件的板侧位置

使用翻转侧面将零件或零件移动到板的另一侧。翻转的零件以铰链运动移动到另一侧，围绕通过零件原点的垂直轴旋转。

文本被镜像，因此始终以正确的方向显示。使用翻转组第 488 页围绕您指定的原点翻转一个或多个元件。

当您将元件翻转到另一侧时，层关联会随元件一起改变。要关闭随元件移动层关联，请在使用翻转侧面或翻转组之前设置/NTL 开关第 488 页。


**警告：**

在焊料或焊膏掩模中使用关联铜而不是自由铜。当 TrueLayer 开启且您使用自由铜时，结果不可预测。

翻转元件 翻转组 使用/NTL 开关

### 翻转元件

您可以使用其原点作为镜像点将元件移动到板的另一侧。

**步骤**

1. 选择一个或多个要移动到另一侧的元件。

2. 使用以下方法之一：

   - 右键单击并单击**翻转侧面**弹出菜单项。

   - 右键单击并单击**属性**弹出菜单项。在元件属性对话框中，在层列表中选择相反的层。

**结果**

如果 DRC 开启且系统遇到间距违规，则翻转被取消。测试点随翻转的元件一起翻转。


**提示** 在板的底部放置元件时，使用底部视图以获得更真实的视图。

### 翻转组

您可以通过指定镜像位置将一组元件移动到板的另一侧。

**步骤**

1. 选择元件，右键单击，然后单击**翻转组**弹出菜单项。

2. 单击以指示镜像位置。

### 使用/NTL 开关

当您将元件翻转到另一侧时，层关联会自动切换。

通常您会希望层关联随元件一起移动。例如，您将表面安装元件移动到板的底部。组装图、丝印、焊料掩模和焊膏掩模层信息从顶部文档层移动到底部文档层。

如果出于某些特殊原因，您不希望这种情况发生，请在启动 SailWind Layout 之前设置/NTL 开关以关闭 TrueLayer 关联。更多信息请参见"软件启动选项"。

## 元件阵列

您可以通过创建*阵列*来排列零件。元件阵列是一个组合，其成员放置在用户定义矩阵的站点上。

元件阵列示例 创建元件阵列 修改元件阵列

### 元件阵列示例

您可以创建平面阵列或圆形阵列。

**极坐标网格或圆形阵列**

在配置极坐标网格或圆形阵列时使用了许多特定值。

下图显示了您设置以创建极坐标网格或圆形阵列的不同值。在圆形阵列中，元件在一个或多个环上彼此等距放置。通过打开极坐标网格和捕捉到网格，您可以创建角位于极坐标网格节点上的绘图项目。

![](/layout/guide/21/_page_18_Figure_9.jpeg)

![](/layout/guide/21/_page_18_Figure_10.jpeg)

**平面阵列**

平面阵列是一个组合，其元件放置在等距平行线的交点上。

下图显示了您设置以创建平面阵列的不同值。平行线可以同时存在于 X 和 Y 方向。

**图 33. 平面阵列**

![](/layout/guide/21/_page_19_Figure_2.jpeg)

**元件阵列示例**

示例将说明可用于设置元件阵列的不同方法。

下图表示一个原始 PCB 设计，选择了八个元件来创建阵列。

| E:\Padspwr\FILES\trick2_sweus25.pcb - PowerPCB |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|------------------------------------------------|--|--|--------|------|--|-----|---------|--|--|--|--|-------|--|--|--------------|--|
| Eile Edit View Setup Iools Window Help         |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
| & (V) Top                                      |  |  |        |      |  |     |         |  |  |  |  |       |  |  | 100 70 % = 1 |  |
|                                                |  |  |        |      |  | P14 |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        | 8205 |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
| @205.                                          |  |  | SU206. |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
|                                                |  |  |        |      |  |     |         |  |  |  |  |       |  |  |              |  |
| Multiple Selection  W:13                       |  |  |        |      |  |     | G:25 25 |  |  |  |  | 15800 |  |  | 2100         |  |

**图 34. 带阵列的 PCB 设计**

以下示例表示相同的八个元件使用不同的网格和阵列设置。

**示例 1**

下图显示了原始八个元件的平面阵列，最小体间间距为 6 密耳，元件旋转 45 度：

![](/layout/guide/21/_page_20_Picture_1.jpeg)

**图 35. 平面阵列示例（最小体间间距 6 密耳）**

下表显示了在平面阵列选项卡上用于创建上图中平面网格的设置。

| 选项            | 设置          |  |  |  |  |  |  |
|-----------------|--------------|--|--|--|--|--|--|
| 行到行          | 193.7 (密耳) |  |  |  |  |  |  |
| 列到列          | 140.24 (密耳)|  |  |  |  |  |  |
| 列数            | 4            |  |  |  |  |  |  |
| 按列放置        | 开启         |  |  |  |  |  |  |
| 旋转            | 开启         |  |  |  |  |  |  |
| 方向            | 45 (度)      |  |  |  |  |  |  |
| 对齐方式        | 原点         |  |  |  |  |  |  |

**表 98. 平面阵列设置（6 密耳）**

**示例 2**

下图显示了原始八个元件的平面阵列示例，最小体间间距为 200 密耳。

![](/layout/guide/21/_page_21_Picture_2.jpeg)

**图 36. 平面阵列示例（最小体间间距 200 密耳）：**

下表显示了在平面阵列选项卡上用于创建上图中平面网格的设置。

**表 99. 平面阵列设置（200 密耳）**

| 选项            | 设置            |  |
|-----------------|----------------|--|
| 行到行          | 430.15 (密耳)  |  |
| 列到列          | 293.4 (密耳)   |  |
| 列数            | 4              |  |
| 按列放置        | 开启           |  |
| 旋转            | 开启           |  |
| 方向            | 0.000 (度)     |  |
| 对齐方式        | 原点           |  |

**示例 3**

下图显示了原始八个元件的圆形阵列示例，最小体间间距为 200 密耳：

![](/layout/guide/21/_page_22_Picture_3.jpeg)

**图 37. 圆形阵列示例**

下表显示了在平面阵列选项卡上用于创建上图中圆形阵列的设置。

| 选项         | 设置               |
|--------------|-------------------|
| 内半径       | 576.68 (密耳)     |
| 增量半径     | 0 (密耳)          |
| 起始角度     | 5 (度)            |
| 角度范围     | 360 (度)，锁定    |
| 增量范围     | 45.000            |
| 每环站点数   | 8                 |
| 方向         | 逆时针            |

| 表 100. 圆形阵列设置 |  |
|---------------------|--|
|---------------------|--|

| 选项      | 设置    |
|-----------|--------|
| 旋转      | 开启   |
| 方向      | 0.000  |
| 对齐方式  | 原点   |

**表 100. 圆形阵列设置(续)**

### 创建元件阵列

您可以通过创建圆形或平面阵列来排列零件。

**步骤**

1. 选择您想要的元件，右键单击，然后单击**创建阵列**弹出菜单项。

2. 单击表示您要创建的阵列的选项卡：平面阵列或圆形阵列。

3. 设置阵列选项并单击**确定**。出现一个对话框，要求您输入阵列或组合名称。更多信息请参见"元件阵列"。

4. 键入阵列的名称或接受默认名称并单击**确定**。默认情况下，阵列按顺序命名，带有 ARR_前缀；例如，您设计中的第一个阵列命名为 ARR_1，第二个阵列命名为 ARR_2，依此类推。

阵列被创建并附加到您的指针上。

您可以在放置阵列时使用移动快捷菜单命令，如翻转、旋转和旋转。

如果您移动一个带有锁定测试点引脚的元件，会出现警告。更多信息请参见"故障排除"。

如果您尝试移动作为物理设计重用一部分的元件，会出现消息"重用元素无法修改。请先中断重用"。单击**确定**取消移动。

5. 单击以指示阵列的位置。

### 修改元件阵列

使用修改阵列，您可以在放置后重新排列阵列中的元件，或者修改组合。

**限制和局限**

修改元件阵列时：

- 您必须在选择过滤器中选择组合以选择阵列和组合。

- 您一次只能修改一个阵列或组合。

**步骤**

1. 选择一个阵列或组合，右键单击，然后单击**修改阵列**弹出菜单项。

   - 如果您正在修改阵列，则会出现修改阵列对话框，显示用于创建阵列的选项卡和选项。

   - 如果您正在从组合创建阵列，则会出现一个对话框，询问是否要解散组合以创建阵列。单击**是**从组合创建阵列。出现创建阵列对话框。

2. 根据需要修改阵列选项。

修改阵列不像创建阵列那样进入移动模式。

除非在线 DRC 处于防止错误或警告错误模式，否则修改阵列不会警告也不会防止放置违规。

如果您修改包含带有锁定测试点引脚的元件阵列的位置，会出现警告。更多信息请参见"故障排除"。

3. 单击**确定**。阵列被修改或从组合创建。

4. 如果在线 DRC 处于防止错误或警告错误模式，单击以指示修改后的阵列的新位置。

## 对齐对象

对齐功能将选中的元件沿着参考元件某侧或中心延伸出的虚拟线对齐。在粗略放置对象后，您可以选择多个对象并自动对齐它们。对齐命令会使所有选中对象与最后选中的对象对齐。

您可以在以下情况下使用对齐功能：引脚（并通过这些引脚对齐元件）、参考标识符、布局编辑器中的联合体，以及 PCB 封装编辑器中的端子和端子编号。

**操作步骤**

1. 使用 Ctrl+单击选择要包含在对齐中的对象，确保最后选择主对象。

2. 右键单击并选择**对齐**弹出菜单项。

**限制：**

您无法在物理设计复用中对齐元素。当选择物理设计复用元素时，对齐功能不可用。

3. 在 1080 页的对齐对话框中，单击您想要使用的对齐方案。对象将根据最后选中对象的位置自动对齐。

如果未启用在线 DRC，自动对齐不保证最小间距，但您可以使用微调功能交互式实现这一点。如果在线 DRC 设置为"阻止"或"警告"，当对齐会导致违规时，对齐操作不会执行。违规情况将在状态栏中报告。

## 旋转对象

您可以以 90 度为增量旋转对象。

**操作步骤**

1. 选择要旋转的对象。您可以一次选择多个对象。

2. 右键单击并选择**旋转 90 度**弹出菜单项。选中的对象将逆时针旋转 90 度。

如果旋转带有锁定测试点引脚的元件，将出现警告。更多信息请参阅"故障排除"。

当旋转一个组时，可能会在某个"轨迹复制"对话框中显示错误。更多信息请参阅"轨迹复制对话框"。

如果尝试旋转作为物理设计复用一部分的元件，将显示消息"复用元素无法修改。请先解除复用"。单击**确定**取消操作。


**提示** 要在动词模式下使用旋转 90 度功能，请单击设计工具栏上的**旋转**按钮，然后选择要旋转的部件。

3. 重复步骤 2 继续旋转对象。

## 旋转对象

您可以在元件放置期间绕其轴旋转对象。

**操作步骤**

1. 选择要旋转的对象。

2. 右键单击并选择**旋转**。部件将附着到指针上。当您移动指针时，部件会跟随，改变旋转角度。

您可以以相同方式多选并旋转一组部件；每个部件都绕自己的轴旋转。

要查看旋转时的角度，右键单击并选择**属性**。当前角度显示在旋转框中。

如果旋转带有锁定测试点引脚的元件，将出现警告。更多信息请参阅"故障排除"。

如果尝试旋转作为物理设计复用一部分的元件，将显示消息"复用元素无法修改。请先解除复用"。单击**确定**取消操作。

3. 单击以指示新角度。

4. 要在动词模式下使用旋转功能，请单击设计工具栏上的**旋转**按钮，然后选择要旋转的部件。单击以指示新角度。

## 交换部件

有时简单地交换相邻部件的位置可以改善连接长度。您可以使用"交换部件"命令在板上任意位置交换两个部件的位置。当选择在线 DRC 时，将检查交换是否存在放置违规。

**操作步骤**

1. 开始操作，使用以下方法之一：

	- **单次交换** 选择一个部件 > 设计工具栏按钮 > **交换部件**按钮。

	- **多次交换** 设计工具栏按钮 > **交换部件**按钮 > 选择要交换的第一个部件。

2. 选择要交换的第二个部件。

3. 系统会提示您允许交换，同时在状态栏中显示交换前后的 X+Y 连接长度，以便您查看长度是否改善。

4. 单击**是**完成交换。部件以原点对原点方式交换。

如果您选择了多次交换方法并且仍处于交换部件模式，则可以继续选择要交换的部件。

## 交互式放置工具

您可以使用对齐和微调工具将部件精确放置到公差范围内。

在交互式放置部件时，请注意对齐和微调的以下效果：

- 对齐使选中的部件沿着参考元件某侧或中心延伸出的虚拟线对齐。

- 微调通过推开部件为拥挤的元件腾出空间，从而消除重叠和间距违规。


**提示** 对于微调，所有元件元素都被视为已粘合。当选择物理设计复用元素时，对齐和微调不可用。

## 微调部件

### 微调部件

当部件距离足够近以至于违反焊盘间或本体间间距规则时，它们被视为重叠。

微调和设计规则检查(DRC) 微调重叠部件 微调所有元件 微调单个部件

#### 微调和设计规则检查(DRC)

当 DRC 设置为"阻止"时，SailWind Layout 会通过取消非法移动的完成并将选中的元件返回到移动模式来主动防止重叠。

可以使用微调进一步优化此自动检查。微调是部件的推挤功能；它通过移动周围的部件远离您尝试放置的部件来解决重叠问题。微调有三种操作模式，您可以在选项对话框的**设计**类别中设置。如下表所示，微调操作取决于当前的 DRC 设置：

| DRC 设置                                                         | 阻止                                                                                                                                  | 警告                                                                         | 关闭或忽略间距                                            |
|---------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|------------------------------------------------------------|
| 自动                                                                | 重叠部件会自动移动并取消高亮显示。如果由于可用空间不足无法重新定位，<br>则显示消息。 |                                                                              |                                                            |
| 警告                                                                | 显示微调对话框供用户交互。                                                                                       |                                                                              |                                                            |
| 关闭<br>不执行微调操作<br>选中的部件保持附着于光标。 | 显示间距违规<br>对话框。可<br>选择：           | 放置部件<br>而不移动<br>重叠部件。 |
|                                                                     | 忽略 — 放置部件<br>而不调整重叠<br>部件。                                                                          |                                                                              |                                                            |
|                                                                     | 说明 — 列出<br>相交的部件。                                                                                               |                                                                              |                                                            |
|                                                                     |                                                                                                                                          | 取消 — 取消<br>命令；部件保持<br>附着于光标。 |                                                            |

**表 101. DRC 设置和微调模式**

当您使用微调进行放置时，SailWind Layout 会近似计算元件尺寸。例如，如果您放置一个 L 形元件，SailWind Layout 会将该部件区域近似为正方形，而不是 L 形。然后微调使用设计规则设置中定义的焊盘间或本体间间距中的较大值来确定两个元件之间必须存在的距离。

在许多情况下，会调整多个部件以适应移动的部件。微调不会移动已粘合的部件或板轮廓外的部件。微调将测试点视为粘合对象。微调不会将板轮廓内的部件移动到轮廓外。当存在重叠时，会显示"部件和联合体微调"对话框。

微调确实遵循当前网格设置，因此请确保将网格设置得足够精细，以便在布线策略的限制内放置命令。

#### 微调重叠部件

使用微调移动重叠部件。微调的操作方式取决于当前的 DRC 设置。

更多信息，请参阅微调部件。

#### 微调所有元件

您可以使用"微调元件"命令一次性移动所有重叠部件。微调通过推开部件为拥挤的元件腾出空间，从而消除重叠和间距违规。

**操作步骤**

单击**工具 > 微调元件**菜单命令。

所有元件将根据设计规则自动微调。

#### 微调单个部件

微调通过推开部件为拥挤的元件腾出空间，从而消除重叠和间距违规。您可以使用微调移动与另一个部件重叠的单个部件。

**操作步骤**

1. 选择一个部件。

2. 右键单击并选择**微调**弹出菜单项。更多信息请参阅

微调不会移动已粘合的部件或板轮廓外的部件。板轮廓内的部件不会被微调到轮廓外。

微调将测试点视为粘合对象。

您无法微调物理设计复用中的元素。所有元件元素都被视为已粘合。当选择物理设计复用元素时，微调不可用。

3. 在 1495 页的"部件和联合体微调对话框"中，单击微调方向和移动重叠部件的方向。

4. 单击**运行**执行微调。

5. 通常，会调整多个部件以适应移动的部件。微调通过以特定颜色显示这些部件来识别它们，并允许进一步调整：

	- **选择颜色** 受微调例程影响的所有部件。

	- **高亮颜色** 在微调下一轮中要移动的部件。

## 更改部件轮廓宽度

您可以使用此过程更改表示丝印顶层/底层上部件轮廓的 2D 线宽度。

**限制和局限性**

• 此过程不适用于在第 20 层创建的放置(微调)轮廓。

**操作步骤**

1. 选择一个元件，右键单击，然后选择**属性**弹出菜单项。

2. 在部件轮廓宽度框中输入宽度(0 到 250 之间)。

3. 单击**确定**。

此更改仅反映在设计中；库不会更新。

正在使用的替代封装会被修改；未使用的替代封装不会被修改。

在线 DRC"本体间"检查和验证设计在检查时会查看部件轮廓。

| 警告： |  |  |
|----------|--|--|
|          |  |  |

在 SailWind Layout 中，"本体间"间距检查是在定义元件本体轮廓的线边缘之间执行的。增加这些线的宽度可能会影响设计中现有元件之间的间距，并要求您执行验证设计间距检查，以确保所有"本体间"间距得到保持。

4. 要使用新的部件轮廓宽度更新所有具有与选中部件相同封装的部件，请单击**继续**。

## 修改元件属性

您可以编辑或更改元件属性以反映设计中的更改。

**操作步骤**

1. 选择一个元件。

2. 右键单击并选择**属性**弹出菜单项。显示元件属性对话框。

**限制：**

当元件是物理设计复用的一部分时，对话框上的几个选项不可用。

3. 进行任何必要的更改并单击**确定**。

## 创建标签

您可以使用元件属性对话框中的**标签**选项卡创建标签。

**操作步骤**

1. 选择一个元件。

2. 右键单击并选择**属性**弹出菜单项。显示元件属性对话框。

3. 在**标签**选项卡上，在标签列表中单击<新建>并单击**标签**按钮。更多信息请参阅添加新部件标签。

4. 从属性列表中，单击要为其创建标签的属性。当您单击一个属性时，该属性的值会显示在值框中。


**限制：**

跳线唯一可用的属性是参考标识符。

5. 接受当前值或输入新值。如果从属性列表中选择参考标识符或部件类型，则无法更改值。

如果属性是只读的(1853 页)，此框不可用。如果属性是 ECO 注册的(1824 页)且 SailWind Layout 不处于 ECO 模式，此框也不可用。

6. 设置标签的可见性状态和放置信息。

7. 设置标签的对齐方式、右可读性、高度和宽度。

8. 单击要放置标签的层，然后单击**确定**创建标签。


**提示** 如果您不设置可见性信息(如步骤 4、5 和 6)，则使用默认位置。更多信息请参阅标签默认值。

**注意：**

不检查标签的间距违规。如果您想从 CAM 输出金属或铜的标签，例如在布线层上，请仔细检查标签放置。

## 编辑标签

标签列表包含参考标识符、部件类型和属性的现有标签。

**操作步骤**

1. 选择一个元件。

2. 右键单击并选择**属性**弹出菜单项。显示元件属性对话框。

3. 在**标签**选项卡上，单击列表中的一个标签并单击此选项卡中的**标签**按钮。

4. 选择标签而不是元件，显示相应的部件标签属性对话框(590 页)，您可以在其中修改标签。


**限制：** 修改跳线名称属性时，参考标识符是唯一可用的标签。


## 集群和联合体放置

使用集群放置功能创建连接部件的关联或分组。

使用两种对象类型：

- **联合体** 是用户创建的部件关联，彼此之间具有严格的关系。一个例子是将滤波电容与 IC 关联放置在其上方。当移动或放置选中的联合体时，部件或联合体成员之间的物理关系保持不变。联合体不是使用集群放置例程创建的，但在集群创建和自动放置操作期间会考虑它们。有关信息，请参阅联合体主题。

- **集群** 是基于连接性的单个部件、联合体和其他集群的集合。一系列 IC 和相关的分立元件组成的内存阵列可以构成一个集群。集群与联合体的不同之处在于，属于集群的部件或集群成员会在集群内重新排列以改善放置。

集群在非常大的设计中或板的不同区域分为不同功能的设计中非常有用。您可以手动或自动创建或修改集群。您还可以使用此功能自动放置单个部件。更多信息请参阅自动放置部件和交互式移动集群主题。

任何创建、显示或修改集群的操作(集群管理器除外)都会自动将您置于集群视图模式。更多信息请参阅集群视图模式主题。

**集群显示设置**

表示集群的圆在显示颜色设置对话框中分配为顶层的 2D 线属性。表示集群名称的文本分配为第 20 层的文本属性。

从集群中心发出的连接线(与普通视图相同)在显示颜色设置对话框中分配为连接设置。

## 联合体

*联合体*是用户创建的部件关联，彼此之间具有严格的关系，如距离、旋转角度、顶部或底部。

一个常见的例子是将滤波电容放置在 IC 上方。当移动或放置选中的联合体时，部件或联合体成员之间的物理关系保持不变。

创建新联合体 创建类似联合体 联合体的选择 向联合体添加部件 修改联合体 删除联合体或联合体成员 从联合体中移除部件 移除整个联合体

### 创建新联合体

您可以创建由两个或多个部件组成的联合体。

**操作步骤**

1. 选择并定位您想要组成联合体的部件为特定模式。保持部件选中状态。

2. 右键单击并选择**创建联合体**弹出菜单项。显示带有默认名称的联合体名称定义对话框。

3. 使用默认名称或输入联合体的新名称，然后单击**确定**。

### 创建类似联合体

您可以使用联合体作为示例自动创建其他相同配置的联合体。

**操作步骤**

1. 选择一个联合体，右键单击，然后选择**创建类似联合体**。

显示"确认创建类似联合体"对话框。

2. 单击**是**继续。

3. 在出现的提示"是否分散新联合体？"的对话框中，执行以下操作之一：

	- 单击**是**将新创建的联合体分散在板轮廓周围。

	- 单击**否**分散部件，并显示消息"保留基准？"。此消息询问是否将新联合体的成员定位为与用于创建的联合体匹配。

- 单击**是**将新联合体精确重新定位为基准部件

- 单击**否**将新联合体保留在当前位置。


**提示** 创建类似联合体会忽略带有测试点的部件。

### 联合体的选择

您可以手动或自动选择联合体。

从联合体成员选择联合体 当选择其成员之一时自动选择联合体

#### 从联合体成员选择联合体

选择联合体中的第一个项目，然后找到相关对象。

**操作步骤**

1. 选择联合体的一个成员。

2. 右键单击并选择**选择联合体**弹出菜单项。

#### 选择联合成员时自动选中整个联合  

当选择联合中的第一个对象时，自动选中该联合的所有成员。  

**操作步骤**  

1. 点击 **编辑 > 筛选器**。  

2. 勾选“元件”和“联合”选项。更多信息，请参阅“精确对象选择”。  

### 向联合中添加元件  

可根据需要向现有联合中添加元件。  

**操作步骤**  

1. 设置筛选器，以便选择联合成员时选中整个联合。更多信息，请参阅“精确对象选择”。  

2. 使用多选功能（Ctrl+点击）选择要添加的元件。  

3. 右键单击并选择 **创建联合** 弹出菜单项。系统显示消息“是否解除联合并将元件包含到新联合中？”。  

4. 点击 **是** 添加新元件。  

5. 点击 **是** 使用相同的联合名称。  

### 修改联合  

启动 SailWind Layout 时，系统会自动启用“联合修改锁定”设置以防止修改联合。您可更改此设置。  

**操作步骤**  

1. 选择任意联合的成员。  

2. 右键单击并选择 **修改联合成员** 弹出菜单项。此选项在当前会话中保持激活状态。再次点击可恢复默认设置。  

### 删除联合或联合成员  

可移除联合中的单个元件或删除整个联合。  

根据设计需求选择以下方法：  

- **从联合中移除元件**：用于移除联合中的单个元件。  

- **删除整个联合**：用于从设计中移除整个联合。  

### 从联合中移除元件  

可根据需要将元件从联合中分离。  

**操作步骤**  

1. 选择要移除的元件。  

2. 右键单击并选择 **从联合中分离** 弹出菜单项。  

### 删除整个联合  

可根据需要解散联合。  

**操作步骤**  

1. 选择联合。  

2. 右键单击并选择 **解散** 弹出菜单项。  


**提示** 使用“解散同类联合”和“解散所有联合”选项可移除所有同类联合或所有联合。  


## 集群布局  

通过集群布局，可以创建连接元件的关联或分组。  

集群布局支持以下两种对象类型：  

- **联合**：用户创建的元件关联，成员间具有严格关系。  

- **集群**：基于连接性的单个元件、联合及其他集群的集合。  

创建新集群  修改现有集群  集群视图模式  在集群视图模式下显示元件  交互式移动集群  删除集群  折叠集群  折叠所有集群  折叠集群成员  自动布局  集群管理  

### 创建新集群  

可手动创建新集群。  

**操作步骤**  

1. 选择要包含在集群中的元件、联合及其他集群。  

2. 右键单击并选择 **创建集群** 弹出菜单项。集群元件将消失，替换为一个圆形，所有连接从其中心引出。此圆形代表集群。  

### 修改现有集群  

可手动、半自动或自动向集群中添加元件或集群，但只能手动移除元件。  

**操作步骤**  

1. 选择要修改的集群。  

2. 右键单击并选择以下弹出菜单项：  

   - **手动编辑**：点击“添加到集群”以向选中集群添加项目。项目将以当前高亮颜色显示。点击“从集群移除”可移除高亮项目。点击快捷菜单中的“完成”结束修改。  

   - **增量扩展**：打开“集群增量扩展”对话框（第 1177 页），显示高亮集群信息及以下按钮：  

     - **接受**：将高亮项目添加到选中集群。  

     - **跳过**：跳过当前项目并高亮下一个。  

     - **停止**：添加已接受的项目并结束操作。  

     - **取消**：取消操作且不修改选中集群。  

   - **自动扩展**：打开“集群大小限制定义”对话框（第 1177 页），显示集群当前大小（成员数量）及推荐成员数的文本框。点击 **确定** 接受新值，或输入更大值以添加更多元件。  

**提示** 使用集群管理器（第 1171 页）可通过对话框修改现有集群。  

### 集群视图模式  

创建或修改集群时，SailWind Layout 会自动切换到集群视图模式（使用集群管理器时除外）。点击 **视图 > 集群** 可在集群视图与普通视图间切换。  

集群视图模式下，部分命令和选项不可用或受限。  

### 在集群视图模式下显示元件  

可在集群视图模式下显示集群所属元件。  

**操作步骤**  

1. 点击 **编辑 > 筛选器**。  

2. 勾选 **集群**。  

3. 选择集群。  

4. 右键单击并选择 **显示内容** 弹出菜单项。元件将以当前高亮颜色显示。  

5. 右键单击并选择 **取消** 可返回集群视图模式。  

### 交互式移动集群  

必要时可重新定位集群。  

**操作步骤**  

1. 选择集群，右键单击并选择 **移动** 弹出菜单项。  

2. 将集群移动到新位置并点击。集群移动后，其成员将折叠（第 1816 页）。可通过设置使移动后集群不折叠，更多信息请参阅“折叠集群”。  


**提示** 自动布局功能会忽略物理设计复用中的元件。  

### 删除集群  

可删除单个集群或所有集群。  

删除单个集群  删除所有集群  

#### 删除单个集群  

可从设计中移除单个集群。  

**操作步骤**  

1. 选择集群（支持多选）。  

2. 右键单击并选择 **解散** 弹出菜单项。  

#### 删除所有集群  

可一次性移除设计中的所有集群。  

**操作步骤**  

1. 选择任意集群。  

2. 右键单击并选择 **解散所有集群** 弹出菜单项。  

### 折叠集群  

“折叠”命令将集群成员重新定位到集群中心。集群布局的“放置元件”过程会消除折叠时产生的重叠。  

也可手动移动每个元件。折叠操作会忽略已粘合对象或包含粘合对象的联合。  

**提示** 点击 **视图 > 集群** 可在元件视图与集群视图间切换。  

### 折叠所有集群  

可一次性折叠设计中的所有集群。  

**操作步骤**  

1. 未选择任何对象时，右键单击并选择 **选择集群** 弹出菜单项。  

2. 右键单击并选择 **全选** 弹出菜单项。  

3. 右键单击并选择 **折叠成员** 弹出菜单项。  

### 折叠集群成员  

默认情况下，SailWind Layout 中的集群移动后会折叠。但可更改此设置。  

**操作步骤**  

1. 移动集群时，右键单击并选择 **折叠集群成员** 弹出菜单项。  

2. 集群将被折叠。  


**提示** 每次启动 SailWind Layout 时，“折叠集群成员”选项默认启用。  


### 自动布局  

使用“集群布局”对话框可创建新集群、在板轮廓内放置集群及元件。  

准备自动布局  自动放置元件  

#### 准备自动布局  

创建板轮廓并导入网络表后，SailWind Layout 会将所有元件定位在板原点。随后可准备自动布局并启动该流程。  

**操作步骤**  

1. 设置设计网格以适配待放置元件。英制单位中，IC 常用网格为 100 或 50 密耳，分立元件为 50 密耳。建议从 IC 的最大公约网格开始。  

2. 放置所有需固定位置的元件（如连接器、安装孔等），并选中这些元件。  

3. 点击 **属性** 按钮。  

4. 在属性对话框中勾选“粘合”复选框，防止自动布局移动这些元件。  

5. 点击 **工具 > 分散元件** 菜单项，将所有未粘合元件移至板轮廓外。分散操作会根据元件高度和长度排列位置。  


**提示** 分散操作会忽略物理设计复用中的元件。  

6. 在绘图工具栏上点击 **元件禁止区域** 按钮，创建自动布局时不放置元件的区域。  

7. 使用 **旋转** 和 **翻转** 按钮调整需倾斜放置或位于底层的元件。  

#### 自动放置元件  

为节省时间，可选择自动放置 PCB 设计中的元件。  

**操作步骤**  

1. 点击 **工具 > 集群布局** 菜单项。  

2. 点击 **放置元件** 按钮。点击 **设置** 按钮（位于“放置元件”下方）可修改自动布局选项。更多信息请参阅“放置元件设置对话框”。  

3. 点击 **运行**。状态对话框将显示布局进度。更多信息请参阅“自动布局”。  

### 集群管理  

使用集群管理器可显示和管理集群成员及联合。可将成员和联合在集群间移动，或解散集群。  

集群管理器类似 Windows 资源管理器，可查看顶层或层级结构中任意级别的项目。  

集群管理器对话框主要由两个列表框组成，显示设计中所有集群、联合及元件。  

向集群中添加元件  将集群成员合并到其他集群  

#### 向集群中添加元件  

可根据需要向现有集群添加更多元件。  

**操作步骤**  

1. 点击 **工具 > 集群管理器** 菜单项。  

2. 在一个列表框中查看目标集群的层级结构。  

3. 在另一个列表框中选择要添加的元件。  

4. 点击 **移动箭头** 按钮。  

#### 将集群成员合并到其他集群  

可根据需要将一个集群的成员合并到另一个集群中。  

**操作步骤**  

1. 点击 **工具 > 集群管理器** 菜单项。  

2. 在任一列表框中查看目标集群的层级结构。  

3. 在另一个列表框中查看待合并成员的集群层级结构。  

4. 高亮要移动的成员。  

5. 点击 **移动箭头** 按钮。  

**结果**  

移除所有成员后，集群将为空，但点击 **确定** 结束会话前不会删除集群名称。点击 **确定** 前，可双击空集群并重复上述步骤添加成员。