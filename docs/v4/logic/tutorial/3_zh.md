# 创建库元件教程
您可以使用库管理器和PCB封装编辑器创建构成SailWind库中元件类型的库元素。

**本课程内容：**

1. 理解SailWind元件类型
2. 创建CAE封装
3. 创建新元件类型

**准备工作**

如果尚未启动，请启动SailWind Logic软件。

## 理解元件类型
在将元件添加到原理图之前，它必须作为元件类型存在于库中。元件类型由三个元素组成：

- 原理图符号，在库中称为CAE封装
- 元件封装，在库中称为PCB封装
- 电气参数，如引脚编号和门分配

| 元素                 | 描述                                        |
|----------------------|--------------------------------------------|
| 元件类型名称:        | 7404                                       |
| CAE封装:             | INV(反相器)                                |
| PCB封装:             | DIP14(14引脚双列直插封装)                  |
| 电气参数:            | 使用12个逻辑门(A到F)使用14个引脚中的12个，1个电源引脚和1个地线引脚 |

**元件类型示例：7404**

您可以在SailWind Logic或SailWind Layout中创建元件类型，但CAE封装只能在SailWind Logic中创建，PCB封装只能在SailWind Layout中创建。

**CAE封装**

添加到原理图的每个元件都必须有一个CAE封装来图形化表示元件的逻辑功能。虽然有些元件完全用单个CAE封装表示，但其他元件由同一CAE封装的多个实例组成，如7404元件(上述多门反相器)。

CAE封装由连接到终端周围的引脚封装组成，这些终端围绕图形符号间隔放置。该实体表示设备全部或部分。终端可以分配引脚名称来表示引脚的逻辑功能，如IN、OUT或VSS。所有CAE封装的元素都在元件编辑器中创建。

![](/logic/tutorial/3/_page_1_0.jpeg)

## 创建CAE封装
在本练习中，您将使用CAE封装向导和其他功能为87C256元件类型创建CAE封装，如下方图形所示。

![](/logic/tutorial/3/_page_1_3.jpeg)

**创建CAE封装**

1. 工具菜单 > 元件编辑器
2. 在元件编辑器工具栏上点击**编辑图形**按钮，然后点击**确定**确认创建具有默认名称的新CAE封装

进入CAE封装编辑器后，会出现几个文本标签和一个CAE封装原点标记。

每个标签都是CAE封装相关文本对象的占位符。这些标签在CAE封装上的位置决定了CAE封装文本对象在原理图中出现的位置。原点标记作为移动或定位CAE封装的原点。选择标签并将其移动到所需位置。

**标签占位符**

| REF           | 参考标识符                |
|---------------|-------------------------|
| PART-TYPE     | 元件类型(7404, 74LS74等) |
| *Free Label 1 | 显示的第一个元件类型属性 |
| *Free Label 2 | 其他显示的元件类型属性 |

**提示：** 属性是可以包含在元件库描述中并导出到元件清单的特定类型元件信息。例如元件制造商、封装类型和零件号。

**使用CAE封装向导创建CAE封装**

1. 封装编辑器工具栏按钮 > CAE封装向导按钮
2. 在Box参数区域，在Min width框中输入**800**
3. 在Left Pins区域，选择**PIN**作为引脚封装，在Pin count框中输入**19**
4. 在Right Pins、Upper Pins和Lower Pins的Pin count框中输入**0**
5. 点击**确定**创建CAE封装

您现在有了CAE封装的开始部分。此过程创建了一个具有19个终端(引脚封装末端的小X)的CAE封装，每个终端有一个PIN类型的引脚封装。

**参见：** *SailWind Logic帮助*了解终端与引脚封装之间的关系

**添加新终端**

此时，CAE封装尚未完成。您必须添加输出引脚并修改输入引脚上的部分符号。

1. 添加终端按钮**。**
2. 从Pins列表点击**PIN**封装，点击**确定**
3. 新终端附加到指针后，右键点击**X镜像**，在X轴或水平方向镜像终端
4. 将终端定位在符号右侧X**1000**，Y**1900**处，点击放置终端

**使用步进重复添加新终端**

添加终端后，SailWind Logic保持在添加终端模式；下一个新终端将附加到指针。使用步进重复功能可以快速添加多个终端，而不是像上面那样逐个添加。

1. 下一个新终端附加到指针后，右键点击**步进重复**
2. 选择**向下**作为方向，在Pin count框中输入**7**，在Distance框中输入**100**
3. 点击**确定**
4. 右键点击**取消**退出添加终端模式

**修改终端**

添加输出引脚后，使用其他终端命令修改输入引脚排列并完成CAE封装。输入引脚包括15个地址输入、3个控制输入和1个额外输入引脚。其中两个控制引脚的引脚封装需要修改，必须移除额外终端。

1. 更改引脚封装按钮
2. 在Pin封装浏览对话框，点击Pins列表中的**PINB**引脚封装
3. 点击**确定**，现在处于引脚封装分配模式，您选择的终端将被分配PINB引脚封装
4. 选择左侧底部的两个输入终端(终端#**18**和#**19**)将引脚封装从**PIN**更改为**PINB**
5. 右键点击**取消**退出更改引脚封装模式
6. 右键点击**选择终端**，从底部选择第四个终端(终端#**16**)
7. 右键点击**删除**，终端编号从#16开始重新编号
8. 在视图菜单点击**范围**，将完成的封装适配到视图中

**为门分配引脚编号和引脚名称**

1. 设置引脚名称按钮**。**
2. 在*终端起始名称*对话框输入**Q0**，点击**确定**
3. 选择最顶部的输出引脚(元件右侧)分配引脚名称Q0
4. 选择Q0引脚下方的输出引脚分配引脚名称Q1
5. 按顺序选择其余输出引脚，分配名称Q2到Q7
6. 右键点击**取消**退出当前命名模式
7. 重复步骤1和2，在Start name对话框输入**A0**，点击**确定**
8. 选择最顶部的输入引脚(元件左侧)分配引脚名称A0
9. 选择A0引脚下方的输入引脚分配引脚名称A1
10. 按顺序选择其余输入引脚，分配名称A2到A14
11. 右键点击**取消**退出当前模式

两个剩余引脚具有逻辑非引脚名称标签(名称上方的横线)。要创建此类文本，请使用\字符。分配剩余引脚名称。

1. 右键点击**选择终端**，选择A14下方的输入引脚
2. 右键点击**属性**
3. 在终端属性对话框的名称框中输入**\PGM\ / \CE**，注意不要在引脚名称中使用空格
4. 点击**确定**
5. 点击空白处取消选择终端。本教程稍后将分配剩余引脚的引脚名称

要完成封装定义，以与分配引脚名称相同的方式为终端设置引脚编号。

1. 在封装编辑工具栏，点击**设置引脚编号**按钮
2. 在设置引脚编号对话框，接受默认值并点击确定
3. 按照本教程开头87C256图形中显示的顺序选择引脚。在分配Q2引脚编号后停止，继续下一步
4. 选择引脚Q3

**结果：** 选择引脚Q3后，它被分配为14号引脚。14号引脚先前在电气参数中被分配为GND的信号引脚。

5. 要将Q3引脚编号更改为15，再次选择引脚**Q3**；它被分配下一个更高的引脚编号
6. 选择引脚**Q4**将其分配为**16**
7. 继续为剩余引脚分配引脚编号

如果分配了错误的引脚编号，再次点击设置引脚编号按钮，输入新编号并点击终端。

**命名CAE封装和元件类型**

1. 文件菜单 > 返回元件
2. 点击**是**保留门更改
3. 在文件菜单点击**另存为**
4. 在保存元件和门封装对话框中，双击元件名称框，输入**87C256**
5. 在门封装名称框中，双击CAE封装1列下的**NEW\_PART**，输入**87C256**
6. 将库切换为**\**Libraries\preview
7. 点击**确定**。如果CAE封装已存在，确认覆盖
8. 点击**确定**确认没有分配PCB封装的警告。如果元件类型已存在，确认覆盖

## 为CAE封装创建元件类型
现在您将为87C256元件类型添加电气属性并分配PCB封装。

**分配系列类型**

创建元件类型的第一步是为元件分配系列类型。

1. 编辑电气按钮 > 常规选项卡
2. 在逻辑系列列表中，切换为**TTL**将其分配为元件类型的系列类型。这仅分配默认参考标识符前缀U

**注意：** 引脚计数仅显示26个引脚。

**分配PCB封装**

创建元件类型的下一步是分配87C256 CAE封装并分配28引脚PCB封装。

1. PCB封装选项卡
2. 在库列表中，切换为**\Libraries\common**库
3. 在筛选框中输入**so\***，在引脚计数框中输入**28**，点击**应用**
4. 点击**SO28** PCB封装，点击**分配**将PCB封装分配为元件类型的第一个(也是唯一一个)PCB封装。这也增加了87C256元件类型的引脚计数

**更新引脚设置**

1. 引脚选项卡
2. 检查门A，元件类型的第一个(也是唯一一个)门
3. 向下滚动引脚列表到序列号17和18。这些应该是引脚22和1
4. 对于**序列17**(引脚22)，双击名称框，输入**\OE**。按**Enter**
5. 对于**序列18**(引脚1)，双击名称框，输入**VPP**。按**Enter**

**提示：** 如果要在SailWind Layout中使用引脚交换、终端分配和拓扑工具，必须设置门的交换(引脚交换)和类型(引脚类型)值。本练习可以保留原样。

**分配信号引脚**

接下来，分配标准电源和地线引脚。这些在SailWind Logic中称为信号引脚。

1. 向下滚动引脚列表到底部
2. 对于引脚**14**，在引脚组列中，点击未使用引脚并更改为信号引脚
3. 对引脚**28**重复此操作
4. 双击引脚14的名称框，输入**GND**
5. 双击引脚28的名称框，输入**+5V**

**添加用户定义属性**

最后，您将添加用户定义的元件类型属性。

1. 属性选项卡
2. 点击**添加**
3. 点击**浏览库属性**
4. 在浏览库属性对话框，点击**描述**并点击**确定**
5. 按**Tab**切换到值单元格，输入**32K X 8 BIT CMOS EPROM/LATCH**
6. 点击**添加**，再次点击**浏览库属性**，重复前面的步骤添加以下属性和值：

| 属性           | 值           |
|----------------|--------------|
| 成本           | (留空)       |
| 零件号         | 87C256       |
| 制造商#1       | SIGNETICS    |
| 制造商#2       | (留空)       |

7. 完成所有属性添加后，点击**确定**完成电气属性分配过程并关闭元件信息对话框

**将元件类型保存到库**

1. 在文件菜单点击**保存**
2. 在文件菜单点击**退出元件编辑器**退出元件编辑器并返回原理图编辑器

**使用库管理器**

您可以从库管理器对话框中编辑库中的现有元件类型。

1. 文件菜单 > 库
2. 在库列表中，切换为\Libraries\preview库
3. 点击**元件**按钮
4. 在元件类型列表中，点击**87C256**。注意预览窗口中的图像。它应该是与元件类型关联的CAE封装
5. 点击**编辑**将元件带入元件编辑器。关闭库管理器。您现在可以编辑元件类型、其CAE封装和电气属性
6. 在文件菜单点击**退出元件编辑器**
7. 不要保存文件副本

**您已完成创建库元件教程。**