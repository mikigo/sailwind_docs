# Assigning Constraints Tutorial
Assigning constraints to your design allows you to easily control and verify critical design areas. Constraint types include clearance, routing, and high-speed rules that can be assigned to nets, layers, classes (collection of nets), groups (collection of pin pairs), or individual pin pairs. You can also assign a default set of design rules that apply to all objects not having a unique rule.

****In this lesson:****

- Establishing the layer arrangement for the PCB
- Setting default clearance rules
- Setting net clearance rules
- Setting conditional rules

****Preparation****

If it is not already running, start SailWind Logic and open the file named **previewchange.sch** in the \ SailWind Projects\Samples folder.

## Establishing the layer arrangement for the PCB
You can define layer arrangements for the PCB, including the number of layers, the nets associated with embedded plane layers, layer stackup, and layer thickness.

The tutorial design is a four-layer PCB with two internal plane layers supporting multiple plane nets. In this section, you will define the layer arrangement for the tutorial design using the layer definition tools.

****Increase the number of layers****

When you first start a design, the default is a two-layer PCB. To change the number of layers:

- 1. **Setup** menu > **Layer Definition**.
- 2. In the Layers Setup dialog box, in the Electrical Layers area, click **Modify**.
- 3. In the Modify Electrical Layer Count dialog box, type **4**.
- 4. Click **OK** to increase the number of layers from 2 to 4.
- 5. In the Reassign Layers dialog box, click **OK**.

****Set layer arrangement and names****

Once you set the correct number of layers, assign the layer types for each layer and enter layer names.

****To set the first layer:****

1. In the Layers Setup dialog box, select **Top** in the list of layers.

- 2. In the Name box, type **Primary Component Side**.
- 3. In the Electrical Layer Type area, click the **Component** layer type.
- 4. In the Plane Type area, click **No Plane**.
- 5. Set the Routing Direction to **Vertical**.

****To set the second layer:****

- 1. Select the second layer, **Inner Layer 2**, and rename it **Ground Plane**.
- 2. In the Plane Type area, click **CAM Plane**.
- 3. Click the **Assign Nets** button.
- 4. In the Plane Layer Nets dialog box, in the All Nets list, scroll down, click net **GND**, and click **Add** to associate the net with the Ground Plane Layer.
- 5. Click **OK**.
- 6. Set the Routing Direction to **Any**.

****To set the third layer:****

- 1. Select the third layer, **Inner Layer 3**, and rename it **Power Plane**.
- 2. In the Plane Type area, click **Mixed Plane**.
- 3. Click the **Assign Nets** button.
- 4. In the Plane Layer Nets dialog box, select nets **+5V** and **+12V** in the All Nets list, and click **Add** to associate the nets with the Power Plane Layer.
- 5. Click **OK**.
- 6. Set the Routing Direction to **Any**.

****To set the last layer:****

- 1. Select the fourth layer, **Bottom**, and rename it **Secondary Component Side**.
- 2. In the Electrical Layer Type area, click the **Component** layer type.
- 3. In the Plane Type area, click **No Plane**
- 4. Set the Routing Direction to **Horizontal**.

****Set the layer stackup****

A typical layer stackup for a four-layer PCB is composed of a pair of copper clad fiberglass substrates, with an insulator/bonding material in between. The insulator/bonding material is typically a resin sheet that bonds the substrate pairs together when a multilayered board is manufactured. This bonding material is also known as *Prepreg*. Layer stackup:

![](/logic/tutorial/8/_page_1_Figure_25.jpeg)

Use the Layer Thickness dialog box to set the layer stackup values.

- 1. In the Layers Setup dialog box, click **Thickness**.
- 2. In the Layer Thickness dialog box, click **Weight(oz)** in the Copper Thickness Units area.
- 3. In the Layer list, for the **Primary Component Side**, in the Thickness box double-click and type **2** to reflect that it has a copper weight of two ounces.
	- **Tip:** 1 oz. of copper weight = .00135" of copper thickness.
- 4. For the **Ground Plane**, in the Thickness box double-click and type **1** to reflect that it has a copper weight of one ounce.
- 5. For the **Power Plane**, in the Thickness box double-click and type **1** to reflect that it has a copper weight of one ounce.
- 6. For the **Secondary Component Side**, in the Thickness box, double-click and type **2** to reflect that it has a copper weight of two ounces.
- 7. Double-click in the Substrate list box between Ground Plane and Power Plane and switch to **Prepreg** to establish this level as the insulator/ bonding layer.
- 8. Double-click in the Thickness box for the Prepreg layer and type **35**. **Tip:** The Dielectric Constant is a value given for manufacturing materials, such as FR-4, to describe electrical characteristics.
- 13. Click **OK** to close the Layer Thickness dialog box.
- 14. Click **OK** to close the Layer Setup dialog box.

## Setting default clearance rules
You can define clearance, routing, and high-speed rules for each level of the design rule hierarchy.

![](/logic/tutorial/8/_page_2_Figure_14.jpeg)

The Clearance area of the Clearance Rules dialog box contains a matrix of PCB design data. You can specify values for each or all data types in the matrix.

1. **Setup** menu > **Design Rules** > **Default** button > **Clearance** button.

- 2. Set a global default clearance value by clicking **All** in the upper-left corner of the clearance matrix.
- 3. In the Input Clearance Value dialog box, type **8** and click **OK**. **Result:** All matrix values change simultaneously.
- 4. In the Trace Width area, type **6** in the Minimum box, type **8** in the Recommended box, and type **12** in the Maximum box.
- 5. Type **12** in the Same Net and Other clearance text boxes, with the exception of Trace to Crn box. Set this box to **0**.
- 6. Click **OK**.

****Set the default routing rules****

To avoid routing on the plane layers, remove them from the selected routing layers as defined in the routing rules. The Layer Biasing area of the Routing Rules dialog box contains a list of selected routing layers. This list lets you specify which layers are permitted for routing.

- 1. In the Rules dialog box, click the **Routing** button.
- 2. In the Selected Layers list, select the **Ground Plane** and press and hold **Ctrl** and click **Power Plane** to add them to the selection.
- 3. Click **Remove** to prevent routing on the plane layers.
- 4. Click **OK** to close the Routing Rules dialog box.
- 5. Click **Close** to close the Default Rules dialog box.

## Setting net clearance rules
You can assign net-specific clearances that take precedence over the default rules previously entered.

- 1. In the Rules dialog box, click the **Net** button.
- 2. Scroll through the Nets list. Ctrl+click **+5V**, **+12V**, and **GND**. The three selected nets appear in the *Selected* listing under the rule type buttons.
- 3. Click the **Clearance** button to set the same clearance rules for all three nets.
- 4. Set a global default clearance value by clicking **All** in the upper-left corner of the clearance matrix.
- 5. In the Input Clearance Value dialog box, type **10** as the global clearance and click **OK**.
- 6. In the Trace Width area, type **10** in the Minimum box, type **12** in the Recommended box, and type **15** in the Maximum box.
- 7. To complete the definition, click **OK**.
- 8. **Close** the Net Rules dialog box.

## Setting conditional rules
When two nets require a specific clearance between each other (to avoid adverse affects on the circuitry), you must define a conditional rule. An example of a conditional rule might be the Underwriters Laboratories (UL) requirements of segregating primary, secondary, and ground nets when alternating current is directly connected to the PCB. You can assign conditional rules between most components of the design rule hierarchy. Conditional rules can exist between nets, nets and classes, classes and classes, nets and layers, and so on.

To assign a net-to-net conditional rule:

- 1. In the Rules dialog box, click the **Conditional Rules** button.
- 2. Click **Nets** in the Source Rule Object area. **Result:** A list of nets appears in the Source Rule Object list.
- 3. Select net **+5V**.
- 4. In the Against Rule Object area, click **Nets**. **Result:** A list of nets appears in the Against Rule Object list.
- 5. Select net **+12V**.
- 6. Click **Create** to define the conditional rule. The new condition appears in the Existing Rule Sets area.
- 7. In the Current Rule Set area, type **25** in the Object-to-Object box.
- 8. Close all of the open dialog boxes. **Result:** The rule you just created will keep all objects pertaining to the +5V and +12V nets 25 mils apart.
- 9. Do not save a copy of the design.

****You completed the assigning constraints tutorial.****
