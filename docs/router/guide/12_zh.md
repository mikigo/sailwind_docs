# 第12章 启用设计规则检查
设计规则检查(DRC)会在交互式布线、走线编辑和元件放置编辑过程中检查设计规则违规。当您启用DRC时，SailWind Router会根据定义的设计规则持续检查设计中的错误。

在SailWind Router中打开文件时，它会使用DRC的现有状态，而不是SailWind Layout中的设置。您可以使用DRC筛选工具栏为各个设计规则(间距、走线宽度、相同网络、放置和长度)启用或禁用DRC。DRC筛选工具栏反映了设计规则检查对话框中的设置。

当DRC关闭时，软件不会执行违规检查，但不允许子网违规。子网之间的走线可以交叉但不能在交叉点连接。当DRC关闭时，不允许层偏置和过孔偏置违规。自动布线始终像启用DRC一样运行，不允许任何错误。

[设置设计规则检查](#page-0-0) [元件间距](#page-1-0) [操作期间检查DRC错误](#page-3-0)

## 设置设计规则检查
您可以从设计规则检查对话框设置DRC选项。

**提示** 如果DRC工具栏上的项目不可用(且显示为灰色)，请单击DRC工具栏上的**DRC开/关(DRC)**按钮以启用选择和编辑特定DRC检查选项的功能。启用DRC编辑功能后，您可以使用工具栏按钮启用和禁用特定的DRC检查。

**步骤**

1. 单击**工具 > DRC设置**菜单项，或单击**DRC筛选**工具栏按钮，然后单击**DRC设置**按钮(在DRC筛选工具栏上)。
2. 在设计规则检查对话框的"启用"列中，选择要检查的每个设计规则的复选框。
3. 在"错误响应"列中，单击要设置错误响应的设计规则的单元格。选择适当的响应方式，以确定SailWind Router在交互式布线、走线编辑和放置编辑操作期间遇到设计规则违规时的处理方式。

有关DRC错误响应行为的更多信息，请参见第405页的"设计规则检查对话框"。

4. 单击**关闭**。

**结果**

所需的设计规则选项已设置，DRC筛选工具栏也更新为相同的信息。

## 元件间距
SailWind Router提供自动化功能以确保元件之间有足够的间距。

**间距基础**

当您启用"对齐网格"设置时，软件会使用设计网格的单位放置元件。

如果满足以下两个条件，软件会防止元件重叠：

- 在**工具 > 选项**菜单项的"制造"类别中，您已在元件组装区域设置了"元件间最小间距"的值
- 在DRC工具栏上，您已启用放置DRC(设计规则检查)，并且在DRC设置对话框中，您已将放置设置为"防止错误"模式

**自动生成的元件轮廓**

元件主体是任何封装对象的最远范围。加载设计时，如果系统未在20层检测到元件放置轮廓，它会自动生成一个包含封装内所有对象的轮廓。DRC功能使用此可见轮廓建立参考元件边界。

![](/router/guide/12/_page_1_Figure_12.jpeg)

在前面的图示中，当启用放置DRC时，"元件间最小间距"值适用于所有情况。

**注意：** SailWind Router支持单独的间距DRC检查。如果在放置DRC操作期间启用了间距DRC检查，系统会同时执行两项检查。如果一个元件的TH或SMD焊盘遇到另一个元件的TH或SMD焊盘，并且元件的放置轮廓没有违反"元件间最小间距"值，则系统使用焊盘到焊盘、SMD到SMD或焊盘到SMD规则。

"元件间最小间距"值适用于表示以下层上任何封装对象最远范围的自动生成轮廓：

- 元件层(顶层或底层)
- 元件层的相关丝印层(丝印顶层或底层)
- 0层(所有层)

只有一个"元件间最小间距"值必须适用于所有元件。

**高级间距**

虽然单个"元件间最小间距"值可能适合您的许多元件，但您可能有许多部件需要为拾取和放置过程或返工提供额外的间距。

您可以在20层的封装中创建自定义间距轮廓。软件在放置过程中使用这个更大的轮廓来创建元件周围的更多间距。额外的较大轮廓通常称为元件庭院或推挤轮廓。"元件间最小间距"值适用于20层轮廓之间。

![](/router/guide/12/_page_2_Picture_11.jpeg)

**提示** 在扩展层模式下，20层变为120层。

![](/router/guide/12/_page_2_Figure_13.jpeg)

**间距验证**

如果您不确定元件是否已放置在您设置的设计规则之外，请运行间距设计验证检查。确保元件的所有方面(包括顶部放置和底部放置对象的颜色)都可见，因为间距放置轮廓检查仅验证在其检查例程期间可见且在视图中的对象。

在**工具 > 选项**菜单项的"设计验证"类别中设置间距检查时，请确保已选中"放置轮廓"复选框，以检查放置轮廓之间的"元件间最小间距"值。

## 操作期间检查DRC错误
某些操作(如手动布线和元件放置)如果违反设计规则可能会失败。如果遇到错误，您可以选择暂停操作并查看DRC错误。

**步骤**

1. 右键单击并单击**解释最后错误**弹出菜单项。

或者，在暂停工具栏上，单击**解释**按钮。

2. 在电子表格窗口的"错误类型"列中单击错误，以在状态栏中显示DRC错误消息并在工作区中高亮显示错误位置。
3. 右键单击并单击**取消**弹出菜单项以恢复命令，或单击**继续执行错误**弹出菜单项以继续操作，尽管存在DRC违规。

**相关主题**

设计规则检查和交互式布线

[设置设计规则检查](#page-0-0)