# 第3章 设计准备
在将设计导入SailWind Router之前，您的设计必须满足特定要求。仔细准备设计以满足所有先决条件后，您可以使用同步流程在SailWind Layout和SailWind Router之间来回切换进行导入。

[ SailWind Router高级功能 ](#page-0-0) [ 在SailWind Router中打开设计的先决条件 ](#page-2-0) [ 同步模式 ](#page-4-0)

## SailWind Router高级功能
SailWind Router提供的高级功能使您能够执行布线、布局和设计规则检查，其详细程度超越SailWind Layout。

![](/router/guide/3/_page_0_Picture_5.jpeg)

**提示** 您也可以观看SailWind Router中用于布局和布线设计的高级功能视频。请参阅SailWind Router网络表项目介绍视频。

SailWind Router包含以下高级功能：

- **独特的元件布局网格** 将元件放在单独的网格上，允许您同时使用另一个不同分辨率的网格进行设计布线。
- **布局元件时的可视化设计规则检查** 在放置元件时会出现可视指示器，如间距违规标记。每个错误的描述会同时出现在Spreadsheet窗口中，便于在布局时快速查看。
- **高级设计规则检查** 在执行设计规则检查时，您可以指定要检查的设计项目以及希望SailWind Router对遇到的任何违规或错误采取的操作（如忽略它们）。启用设计规则检查后，您还可以在布线或元件布局等操作期间出现错误时暂停。您可以在Spreadsheet窗口中详细检查这些错误，以便在必要时修改设计。
- **高级布线功能** SailWind Router提供SailWind Layout中没有的额外布线工具。例如，您可以为特殊设计功能（如差分对、手风琴结构和扇出）实现设计规则。其他功能包括：
	- 调谐
	- 焊盘居中
	- 布线时的可视化设计规则检查指示器
- 自动测试点添加
- 网络调度
- 走线推挤
- **禁止填充区域的自定义** 通常在SailWind Layout中创建的禁止区域在SailWind Router中显示为阴影。如果需要，您可以使用SailWind Router中的扩展禁止填充选项更改禁止区域的填充图案，以区别于铜箔、填充和其他平面区域。您可以在选项对话框 > **全局**类别 > **常规**子类别中访问禁止区域和铜箔、填充及平面的填充图案设置。
- **动态铜箔修复** 铜平面中的覆铜会自动调整以适应形状内的变化。您不需要重新覆铜即可看到填充中间距的更新。例如，如果您移动一个元件，铜箔会立即根据其新位置所需的间距重新覆铜。您可以在选项对话框 > **覆铜**类别中启用动态铜箔修复功能。
- **导航窗口** 该窗口在导航设计时提供工作区的替代视图：
	- 当未选择任何内容时显示设计的放大视图
	- 当选择引脚或过孔时显示横截面细节
	- 放大设计中任何选定元件的视图
	- 放大设计中任何选定网络对象的视图
	- 在交互式布线期间监控并显示任何长度控制网络的路由长度

导航窗口具有命令按钮，可让您在导航窗口视图中显示、隐藏或缩放各种设计特征（如走线或元件）。

- **Spreadsheet窗口** 该窗口允许您查看和修改设计对象属性或交叉探测设计中标记的设计规则检查违规。例如，设计规则违规详细信息会出现在窗口的**错误**选项卡中。因此，您可以在布线或放置元件时查看设计错误详细信息，以便在必要时进行设计修改。
- **自动布线能力** 您可以选择执行批量自动布线，也可以选择单个网络、元件或引脚对进行选择性自动布线。

◦ 对于批量自动布线，首先确定您的策略。例如，在布线其他元件之前，先布线或计划布线密度较高的元件（如BGA）。

**提示**

即使您计划手动布线设计，也可以使用自动布线器对设计进行"首次尝试"，以确定最紧密的通道和最有问题的区域。

◦ 对于选择性自动布线，选择一个元件或网络，然后右键单击并选择其中一个手动布线选项（布线、扇出、优化、调谐或居中）。为获得最佳效果，完成后保护布线以确保在后续任何批量自动布线期间保持不变。

**相关主题**

**Spreadsheet窗口**

选项对话框，全局类别，常规子类别

选项对话框，覆铜类别

## 在SailWind Router中打开设计的先决条件
在将设计导入SailWind Router工作区之前，您必须完成许多先决任务。您的特定设计可能需要也可能不需要某些任务。

**要求**

在SailWind Layout中打开设计之前，您必须完成以下任务：

- 创建板轮廓
- 定义板的层结构，包括层数及其功能分配（至少需要定义元件安装层、布线层，如果需要的话还需要电源/地平面）
- 定义任何禁止区域：
	- 布局（包括元件高度限制）
	- 元件钻孔
	- 走线和铜箔
	- 铜平面
	- 过孔和跳线

SailWind Router指南 31

- 测试点
- 手风琴结构
- 从原理图工具导入设计网络表
- 定义您将用于布线板的所有过孔的焊盘堆叠（标准、微型/激光、盲孔和/或埋孔）
- 定义任何铜箔/铜箔切口、铜平面/铜平面切口、阴影区域（注意：Router看到的阴影轮廓与灌铜轮廓不同）
- 分散元件
- 定义设计所需的任何重用元素（SailWind Router中不可用的功能）
- 创建可能需要的任何元件联合
- 如果您将使用任何元件高度禁止限制，请检查确保已为元件分配geometry.height属性

**建议**

虽然在SailWind Router中打开设计之前执行以下任务不是先决条件，但如果您最终需要这些设计功能，请记住您只能在SailWind Layout中完成它们：

- 在板轮廓中创建任何切口或槽
- 在板的层结构中定义其他项目，如丝印、焊膏掩模、阻焊层、钻孔、组装或任何其他特定用途的层
- 添加任何非ECO注册元件，如工具孔、安装孔、基准点、散热器和硬件（可选，如果使用）
- 创建任何所需的2D线项目，如标题块、板标记（板上的文本）、图形元素、阻焊层浮雕（SM层上的铜）、公司徽标以及您公司标准要求的其他项目

## 同步模式
同步模式链接SailWind Layout和SailWind Router。当您在SailWind Router中工作时，您所做的更改也会出现在SailWind Layout中；当您在SailWind Layout中工作时，更改会出现在SailWind Router中。当您处于同步模式时，您可以立即在两个程序之间切换，但您在非活动程序中能做的事情会受到限制。

如果您执行不受支持的命令或更改不受支持的选项，非活动程序将变得不同步。

**注意：**

您必须然后重新启动SailWind Layout才能使同步模式生效。

尽管与SailWind Router同步，但您必须主动切换回SailWind Layout才能在SailWind Layout中处理您的设计。

您仍然可以使用自动化；但是，大多数自动化方法不会返回任何有价值的结果，也不会在数据库中做出任何更改。

[ 启用同步模式 ](#page-4-1) [ 在同步模式下发送设计到SailWind Router ](#page-5-0) [ 切换到SailWind Layout ](#page-5-1) [ 同步模式中不支持的操作 ](#page-6-0) [ 设计不同步时重新同步 ](#page-7-0) [ 退出同步模式 ](#page-7-1)

### 启用同步模式
同步模式链接SailWind Layout和SailWind Router，使设计同时出现在两个程序中，使您能够在任一工具中工作而无需先在一个程序中关闭设计。

![](/router/guide/3/_page_4_Picture_12.jpeg)

**警告：**

同步模式只能从SailWind Layout设置，并且必须在尝试将设计发送到SailWind Router之前启动。

**步骤**

- 1. 在SailWind Layout中，单击**工具 > 选项**菜单项。
- 2. 在选项对话框中，单击**全局**类别，**同步**子类别。
- 3. 在Layout和Router同步区域，选中启用复选框。

切换到SailWind Router会自动将SailWind Layout中的设计置于DRC关闭模式（SailWind Router中的DRC模式不受影响）；因此，您可能希望选中"返回时恢复DRC模式"复选框。此设置会在您切换回SailWind Layout时恢复切换到SailWind Router之前存在的DRC模式。根据设计的大小，恢复DRC模式可能需要几分钟。

- 4. 要在切换到同步模式时收到设计被置于DRC关闭模式的警告，请单击"警告切换到DRC关闭模式"（如果您在步骤3中选中"返回时恢复DRC模式"复选框，则此复选框不可用）。
- 5. 单击**确定**。
- 6. 重新启动SailWind Layout。

### 在同步模式下发送设计到SailWind Router
使用同步模式将您的设计传输到SailWind Router，同时保持设计在SailWind Layout中打开。

**步骤**

- 1. 按照["启用同步模式"第33页](#page-4-1)所述启用同步模式。
- 2. 使用以下方法之一切换到SailWind Router：
	- 在标准工具栏上，单击**布线**按钮。
	- 单击**工具 > SailWind Router**菜单项，在SailWind Router链接对话框中选择一个操作并单击**继续**。

**结果**

SailWind Router打开并加载您的设计。

**相关主题**

[ 退出同步模式 ](#page-7-1)

[ 设计不同步时重新同步 ](#page-7-0)

[ 同步模式中不支持的操作 ](#page-6-0)

### 切换到SailWind Layout
您可以快速将设计从SailWind Router移回SailWind Layout环境。

**步骤**

- 1. 在主工具栏上，单击**Layout**按钮。
- 2. SailWind Layout打开并加载您的设计。

![](/router/guide/3/_page_5_Picture_22.jpeg)

**提示** 要切换回SailWind Router，请单击SailWind Layout主工具栏上的**布线**按钮。

### 同步模式中不支持的操作
同步模式不支持某些命令和选项。如果您执行这些命令之一或更改其中一个选项，SailWind Layout和SailWind Router将变得不同步。

**不支持的命令**

- 更改绘图对象：铜箔、铜平面、文本、2D线、禁止区域、标签、板轮廓和尺寸标注。但是，您可以移动附有绘图对象的元件而不会导致程序不同步。
- 更改规则
- 更改焊盘堆叠或层定义
- 导入ASCII文件（或任何其他导入）
- 验证设计
- 更改重用和集群
- ECO或BGA操作
- 从库更新
- 使用封装编辑器
- 插入OLE对象
- 任何清除撤消缓冲区的操作，包括自动布线和大型组移动

**不支持的选项更改**

- 制造设计(DFF)
- 测试设计(DFT)
- 验证设计
- 绘图
- 分割/混合平面
- 热焊盘
- ECO选项
- 过孔图案

**相关主题**

[ 设计不同步时重新同步 ](#page-7-0)

### 设计不同步时重新同步
如果您执行不受支持的命令或更改不受支持的选项，非活动程序将变得不同步。状态栏显示同步状态 - 活动、非活动或不同步。您必须在SailWind Layout或SailWind Router中重新同步设计。

**步骤**

要重新同步两个程序：

- 如果SailWind Router为"活动"且SailWind Layout为"不同步"，请在SailWind Router的主工具栏上单击**Layout**按钮。
- 如果SailWind Layout为"活动"且SailWind Router为"不同步"，请在SailWind Layout的主工具栏上单击**布线**按钮。

![](/router/guide/3/_page_7_Picture_11.jpeg)

**注意：**

要在SailWind Layout和SailWind Router之间切换时关闭许可证警告的显示，请在*SailWindRouter.ini*文件中键入以下文本（之后不需要重新启动SailWind Router）：

```
[Security]
DisplayWarnings=0
```

**结果**

之前不同步的程序会更新为最新的设计更改并成为活动程序。

**相关主题**

[ 同步模式中不支持的操作 ](#page-6-0)

### 退出同步模式
您可以在进行设计更改后随时退出同步模式。

**步骤**

- 1. 确定您希望继续使用哪个应用程序。
- 2. 要退出同步模式，请关闭另一个应用程序。

在同步模式下，**Layout**按钮（在SailWind Router标准工具栏上）不会将您的设计发送到SailWind Layout然后关闭SailWind Router；因此，您必须手动关闭应用程序。但是，如果其中一个程序不同步，请确保保存更改（如果您想保留它们）。例如，如果您想继续在SailWind Router中工作，但不再希望处于同步模式，请关闭SailWind Layout。出现提示时，保存您的设计。