# **Creating Traces with Interactive Routing**

SailWind Router features a comprehensive selection of interactive routing commands.

#### **In this lesson:**

- Routing interactively
- Routing plane nets
- Using the On-line Design Rule Checking modes
- Routing with keepouts and cutouts

#### **Restriction**

This tutorial requires the Dynamic Route Editing, Advanced Rules, and General Editing security options. In SailWind Router, click **Installed Options** on the Help menu to determine whether you can proceed.

#### **Preparation**

If it is not already running, start SailWind Router and open the file named **previewpreroute.pcb** in the \ SailWind Projects\Samples folder.

# **Routing interactively**

The interactive router is the core trace editing function in SailWind Router. Many of the operations for defining traces in the trace editor resemble similar operations in SailWind Layout, such as those used for creating polygons and line items. This should minimize your SailWind Router learning curve by letting you apply the same skills to many areas.

In SailWind Router, all connections are converted to traces by selecting the connection and creating new corners and layer changes using mouse actions and keyboard combinations.

## **Resizing the view**

- 1. In the Project Explorer, locate the Nets object.
- 2. Expand the **Nets** branch inside the **Net Objects** tree.
- 3. Scroll through the Nets list. Click the net **24MHz** to select (and temporarily highlight) the net in the workspace.
- 4. Zoom into the upper left corner of the design, to center the view around the short portion of the 24MHz net, connecting the oscillator to the resistor.
- 5. Deselect the net 24MHz by clicking in a blank area of the workspace.

## **Start routing**

- 1. With nothing selected, right-click, and click **Select Traces/Pins/Unroutes**.
- 2. On the standard toolbar, click **Primary Component Side** in the Layer list to set it as the current layer.
- 3. Click the oscillator pad connected to the net 24MHz.
- 4. Right-click and click **Interactive Route**. The beginning of a new trace segment attaches to the pointer.

**Tip:** At this point, DRC mode is off. New trace segments are not prohibited from shorting to other objects. If DRC is enabled, disable it at this time by typing **DRC** and then **Enter**.

- 5. Move the pointer around and note how one end of the connection attaches to the end of a new trace segment and the other end remains attached to the end point of the connection. This helps you determine where you are going as you route.
- 6. To add corners, click.
- 7. To delete corners, press **Backspace**.

On nets with more than one connection, the end point of the connection automatically snaps to the nearest pin of the net. Experiment with the reconnect by moving the pointer toward the lower left corner of the board. Once the end point of the trace segment is closer to U7, it detaches from its current end point and snaps to U7. Move the pointer toward the upper left and the trace segment snaps back. This feature lets you reconnect traces on-the-fly while routing, avoiding the need to manually reorder connections.

**Tip:** At any point in this exercise, you can exit the routing command operation by pressing

Esc. You can also click the **Undo** button to undo any actions.

## **Changing the routing angle mode**

New segments are constrained to 90-degree increments from the origin of the trace segment because the current trace angle mode is Orthogonal. You can change the trace angle mode during routing by clicking commands on the shortcut menu.

 While the trace is attached to the pointer, right-click, point to **Routing Angle**, and click **Diagonal**. Once you change the angle mode, move the pointer around. Notice how new segments are now constrained to 45-degree increments.

## **Adding vias and changing layers**

Change layers the same way you add corners, except press Shift when you click. You can initiate layer changes at the current pointer location or at the last corner location while routing.

#### **To initiate a layer change at the current pointer location:**

 With a new trace segment attached to the pointer, use **Shift+click** where you want to change layers. A new via is added at the click location. The second layer of the routing layer pair is now the current layer.

**Alternative:** With a new trace segment attached to the pointer, click to add a corner. Rightclick, point to Layers, and select a layer from the list. If you don't first add a corner, the trace segment attached to the pointer will change layers instead of adding a via and changing layers.

#### **To initiate a layer change at the last corner location:**

1. Click to add a new corner.

2. Move the pointer away from the new corner, right-click and click **Layer Toggle**. A via is added to the last corner added.

**Tip:** If DRC is enabled, vias are not added if the last trace corner is located inside a component pad.

## **Changing via type**

If more than one via type has been defined within the design, you can change via types while routing. When you start routing a net, SailWind Router will route using the default via type. To use a different via type while routing a particular net, use the **Via Type** option on the shortcut menu to choose another via type.

### **Changing trace width**

New trace segments are routed at the default recommended trace width specified for the net. If a different minimum and/or maximum value has been specified for the net, you can change the trace width during routing by clicking commands on the shortcut menu.

- 1. While the trace is attached to the pointer, right-click, point to **Width**, and select a new width from the list. Choices include the values specified for Minimum, Recommended, and Maximum width for the net.
- 2. If the width value you want is not in the list, click **Set** and enter a value in a range between the Minimum and Maximum values specified for the net. The trace width will change to this value and this new value will be added to the list.

Once you change the trace width, move the pointer around. Notice how new segments are now added at the newly specified width.

### **Ending versus completing traces**

In SailWind Router, you can elect to partially complete or end a trace in almost the same manner as adding corners and adding vias.

To end a trace, Ctrl+click where you want the trace to end.

### **Completing traces**

You can complete a trace in two ways. Use the Complete command or position the end of the trace segment over its destination and click the left mouse button.

![](/router/_page_2_Figure_14.jpeg)

**See also:** "Ending traces" in *SailWind Router Help*

#### **Complete a trace locally, without using the Complete command**

With a trace segment attached to the pointer, define a trace pattern from its start point to its

end point and click the left mouse button when the complete symbol appears. The new trace is completed, in many instances without need of smoothing or cleaning up the trace.

#### **Complete a trace using the Complete command remotely remote**

 With a new trace segment attached to the pointer, right-click and click **Complete**. You can also double-click the left mouse button to complete the trace. The new trace is completed from its start to its destination.

Practice routing the short connection of the net 24MHz to completion.

**Tip:** At any point in this exercise you can exit the routing command operation by pressing Esc. You can also click the Undo button on the standard toolbar to undo any actions.

### **Adding traces with arcs during an interactive routing operation**

- 1. Begin interactively routing by selecting an unroute and pressing **F3**.
- 2. With a new trace segment attached to the pointer, right-click, point to **Arc**, and then click **Add Arc**.

#### **Alternative:** Press Alt+A.

3. Click at the point where you want to end the arc. SailWind Router returns to the normal interactive routing mode allowing you to finish routing the trace.

**Tip:** If you want to specify the exact radius of the arc, set the radius by typing RAD and entering the radius to use. Then while interactively routing, right-click, point to Arc, and click Add Arc of Radius.

### **Deleting traces and trace segments**

- 1. With nothing selected, right-click and click **Select Anything**.
- 2. Click a segment of a completed trace and press **Backspace**.
- 3. Click the **Undo** button from the standard toolbar to undo the deletion.
- 4. Use **Shift+click** to select the whole pin pair.
- 5. Press **Backspace** to unroute the pin pair.

## **Undo/Redo**

SailWind Router allows multiple Undo/Redo operations. Use the **Undo** and **Redo** buttons on the standard toolbar to remove or redo command operations as needed.

### **Deleting all routing**

At any point in this exercise, you can delete all of the current routing by selecting all of the nets and then pressing Backspace.

- 1. With nothing selected, right-click and click **Select Nets**.
- 2. Right-click and click **Select All** to select all nets.
- 3. Press **Backspace**.

# **Routing plane nets**

For a typical PCB with embedded planes and surface mounted parts, plane net routing is limited to routing a small segment out of the pad and terminating it with a via to provide contact with the internal plane.

Before you begin routing plane nets, you need to update the visibility of the plane nets.

### **Update the net visibility**

#### **View menu > Nets**

During the placement stages of this tutorial, the display of certain plane nets was disabled to get a clear view of the components during placement.

Before you can route the plane nets, you need to enable the display of those nets.

- 1. In the View details area, select net **GND**.
- 2. In the View details area, select the corresponding **Traces** check box to display this net.
- 3. Select **All except connected to plane** to limit the display of the nets to only the routed portions of the nets.
- 4. In the View details area, use Ctrl+click to select the **Default**, **+5V**, and **+12V** nets.
- 5. In the View details area, clear the corresponding **Traces** check boxes to disable the display of these nets.
- 6. Click **OK** to apply the changes and close the View Nets dialog box.

## **End via modes**

To avoid using a layer change and end command to make every plane connection, you can set an end via mode that always ends routes with a via. The three end modes are:

| End mode       | Description                                                |
|----------------|------------------------------------------------------------|
| End No Via     | Traces end without<br>a via at the end point of the trace. |
| End Via        | Traces end with<br>a via at the end point of the trace.    |
| End Test Point | Same as End Via but the via is also a test point.          |

#### **To change the end via mode:**

- 1. Start routing interactively, and with a trace segment attached to the pointer, right-click, point to **End Via Mode**, and click **End Via**. A check mark indicates the current mode.
- 2. Find a convenient location for the via and Ctrl+click to create a pin escape to the plane.

## **Routing plane nets**

Using the routing commands from the previous exercise, experiment with routing net GND using Ctrl+click to end the routes. Note the presence of the plane thermal indicator (an X on the via) each time you end a portion of the GND net. This indicates eligibility for a thermal relief; it will make contact with

the plane.

# **Routing using On-line Design Rule Checking modes**

You can enable real-time design rule checking during placement and routing to ensure that your design constraints are maintained throughout the design process. This interactive checking is called On-line DRC. You set DRC modes in the DRC Settings dialog box, through the DRC Filter Toolbar, or by using shortcut keys.

| DRC mode    | Description                                                                                                                                                                                                                   |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DRC Off     | Specifies no checking. Violation of rules during placement and<br>routing are allowed. Clearance violations and the intersection of<br>traces are also allowed.                                                               |
| DRC Prevent | Prevents you from creating violations during placement, routing,<br>or trace modification.                                                                                                                                    |
| DRC Explain | Detects potential errors, temporarily suspends operation for you<br>to examine the error conditions in the Spreadsheet window. You<br>can then continue the operation with the violations or cancel the<br>current operation. |
| DRC Warn    | Generates error messages during placement or routing and lets<br>you continue.                                                                                                                                                |

#### **There are four modes of DRC operation:**

## **Update the net visibility**

#### **View menu > Nets**

Before you can experiment with On-line DRC, you need to update the display of some nets.

- 1. In the View details area, select the **Default**, **+5V**, and **+12V** nets.
- 2. In the View details area, select the corresponding check boxes in the **Traces** column to enable the display of these nets.
- 3. Click **All except connected plane nets** to limit the display of the nets to only the routed portions of the nets.
- 4. Click **OK** to apply the changes and close the View Nets dialog box.

## **Experiment with routing in DRC Prevent mode**

**DRC Filter toolbar button > DRC Settings button** 

### **To enable the DRC Prevent mode for Clearance checking:**

- 1. In the Design Rule Checking dialog box, select the check box in the **Enable** column for **Clearance**, and then select **Prevent** in the **Error Response** list.
- 2. Close the Design Rule Checking dialog box.
- 3. Continue routing traces. Notice that violations are not permitted.

You should also experiment with the Complete command in DRC Prevent mode by doubleclicking to complete traces at various completion points.

**Tip:** Routing in DRC Explain mode creates a ToolTip at the pointer explaining violations. To enable DRC Explain mode, in the Design Rule Checking dialog box, select Explain in the Error Response list.

# **Routing with Dynamics**

Powerful dynamic routing features offer an unprecedented level of interactive routing control within SailWind Router.

Routing with dynamics is another powerful interactive routing feature. Instead of indicating each trace corner, you simply start routing and move the pointer in the direction in which you want the trace to flow. Trace corners are dynamically added as you move the pointer.

# **Enabling dynamics**

# **Options button > Routing/General tab**

Dynamics can be enabled and disabled as required by the current routing session.

- 1. In the Interactive routing area, select the **Dynamically route** check box.
- 2. Click **OK** to activate the setting and close the Options dialog box.

## **Creating traces with dynamics**

- 1. With nothing selected, right-click and click **Select Unroutes/Pins**.
- 2. Set the angle mode to Orthogonal by typing **ao** and pressing **Enter**.
- 3. Select net 24MHz at a point close to U7 (bottom of the view), right-click and click **Interactive Route**. A trace dynamically attaches to the pointer.

#### **Alternative:** Press F3.

- 4. Move the pointer vertically on the board, in the general direction of the destination of the connection. Notice how routing interactively with dynamics automatically chooses a path around obstacles and creates a trace pattern.
- 5. Experiment with dynamics by moving the pointer, with the trace attached, around obstacles. Move the pointer closer to the destination of the connection and double-click. Notice how dynamics automatically completes the trace and smooths the pattern.

**Tip:** At any point in this exercise you can exit interactive routing by pressing Esc. You can also click the Undo button from the standard toolbar to undo any actions.

**Tip:** To backup a trace with dynamics enabled, slowly back up over the newly created trace pattern.

6. Experiment by routing traces using the commands covered in this section.

### **Interactively routing with dynamics in verb mode**

![](/router/_page_7_Picture_7.jpeg)

You can avoid the constant selection of F3 or the command from the shortcut menu by entering dynamic routing verb mode.

- 1. Using dynamic interactive routing, complete several traces.
- 2. Change the trace angle to diagonal, by typing **ad** and pressing **Enter**. Continue experimenting. Try the same exercises with the trace angle set to Any Angle, by typing **aa** and pressing **Enter**.

When you are comfortable using interactively routing with dynamics, continue to the next section of the tutorial.

# **Rerouting with dynamics**

You can also use dynamics to reroute. This command works in dynamic routing verb mode.

- 1. Click any trace segment, right-click and click Interactive Route. **Alternative:** Press F3.
- 2. Create a new trace pattern and complete it by clicking on any other point in the trace or trace segment. Otherwise, use normal trace completion commands when completing on component pins and vias during reroute.

# **Routing with keepouts and cutouts**

The sample design contains keepouts. In addition, a board cutout has been added to the PCB. With DRC prevent enabled, you can't violate these areas during trace editing.

### **Set display colors for keepouts**

# **Options button > Colors tab**

Keepouts may have been set to invisible. For the following exercise, turn on the display of keepouts.

- 1. Click yellow and click **Keepouts** for the Primary Component Side.
- 2. Click pink and click **Keepouts** for the Secondary Component Side.
- 3. Click **OK** to apply the color settings and close the Options dialog box.

# **Via keepouts**

**DRC Filter toolbar button > DRC Settings button** 

The sample design contains a via keepout in the J1 connector. Try to add a via to it. If it is not the current DRC mode, set DRC Clearance checking to **Prevent**.

- 1. In the Design Rule Checking dialog box, select the check box in the **Enable** column for Clearance, and select **Prevent** in the Error Response list.
- 2. Close the Design Rule Checking dialog box.
- 3. Search for J1 pin 25 and select it using the **ss** shortcut key. Type **ss**. As you type, the Shortcut dialog box appears. Press **Spacebar**, type **j1.25**, and then press **Enter**. The view may change depending upon your current zoom level and the center of your current view.
- 4. Click the connection to J1.25 and start routing the connection using the Route command (**F3**).
- 5. Move your pointer to the left and press **Shift+click** to add a via in the keepout outline of J1. Note the failure to insert the via.
- 6. Now move the trace away from the keepout outline and try to insert the via again. Notice how the via is permitted outside of the keepout.

## **Routing keepouts and board cutouts**

The sample design contains routing keepouts and a board cutout to accommodate the shield on the bottom side of the PCB. Try to add traces across the keepout and under the keepout area on the bottom of the PCB. If it is not the current DRC mode, set DRC Clearance checking to **Prevent**.

- 1. Search for U4 pin 9 and select it using the **ss** shortcut key. Type **ss**. As you type, the Shortcut dialog box appears. Press **Spacebar**, type **u4.9**, and then press **Enter**. The view may change depending upon your current zoom level and the center of your current view.
- 2. Click the connection to **U4 pin 9** and start routing the connection using the Route command (**F3**).
- 3. Move your pointer to the right and attempt to cross the board cutout.
- 4. With the new trace attached to the pointer, create a trace pattern up and around the top of the cutout.

5. Add a via, continue routing, and attempt to add a trace in the keepout area to the right of the cutout. Once again, you are prevented.

### **Should I route the entire board?**

Completing the routing of the design is optional. It is a good exercise for you to complete the routing, but other portions of the tutorial present you with additional tools to help you route the design.

Do not save a copy of the design.

**You completed the adding traces interactively tutorial.**