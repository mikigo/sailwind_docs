# Chapter 34 Filling Copper, and Copper Planes
This section describes the methods used to fill coppers, and copper planes. It describes their differences, how connectivity is established, and how vias interact with the flooding operations.

Differences Between Copper Shapes and Copper Planes Flooding Copper Planes Hatching Copper Planes Copper Plane Flood Priorities Setting Flooding Order of Overlapping Copper Planes Plane Thermal Indicators Understanding How to Manipulate Copper Plane Thermals and Antipads Generating Thermals Thermals on CAM Planes Thermals on Copper Plane Areas Flood Over Pads in a Copper Plane Flood Over Vias in a Copper Plane Filling a Shape with a Pattern of Vias Placing Vias Inside the Perimeter of a Shape Surrounding a Void with Vias

## Differences Between Copper Shapes and Copper Planes
There are many differences between copper shapes and copper planes. This topic presents a feature comparison table that explains the differences for understanding when to use one instead of the other.

| Feature                                                                                                                 | Copper<br>Shape | Copper<br>Plane |
|-------------------------------------------------------------------------------------------------------------------------|-----------------|-----------------|
| Can be filled without assigning a net                                                                                   | X               | X               |
| Is filled automatically                                                                                                 | X               |                 |
| Can be created in the PCB Decal Editor                                                                                  | X               |                 |
| Can be created on non-electrical layers                                                                                 | X               | X               |
| Can have thermals on routed pads                                                                                        |                 | X               |
| Must encompass an electrical object of the net to which it's assigned<br>when using the "Remove isolated copper" option |                 | X               |

**Table 119. Feature Comparison of Copper Shapes and Copper Planes**

| Feature                                                                   | Copper<br>Shape | Copper<br>Plane |
|---------------------------------------------------------------------------|-----------------|-----------------|
| Avoids objects of any net to which it is not assigned                     |                 | X               |
| Has thermal spokes based on the Thermal Options                           |                 | X               |
| Can generate thermals and antipads from the design rules*                 |                 | X**             |
| Is not filled automatically, but must be poured                           |                 | X               |
| Can generate custom thermals and antipads from pad stack settings*        |                 | X               |
| Can automatically create cutouts around embedded copper planes*           |                 | X               |
| Can remove unused pads on inner layers*                                   |                 | X               |
| Can be automatically generated based on the shape of the board<br>outline |                 | X               |
| Can be split into two areas using the Auto Plane Separate tool            |                 | X               |
| Can save hatch outlines with the design                                   |                 | X               |

**Table 119. Feature Comparison of Copper Shapes and Copper Planes(continued)**

\*These features are controlled by settings.

\*\*If you use the "Use design rules for thermals and antipads" setting in the Options dialog box > **Copper Plane** category > **Thermals** subcategory, antipads use the Copper-to-Drill clearance rule rather than the Copper-to-Pad clearance.

## Flooding Copper Planes
Flooding recalculates the copper plane and recreates all clearances for the current obstacles within the plane outline, observing clearance rules. Use Flood if you change clearance rules, or make changes to or within—a copper plane that might create clearance violations.

Flooding fills the copper plane with copper in a hatched or solid patternon page 617, creating isolation areas around copper, traces, and pads that are inside the copper plane but are not part of the same net. It also creates thermal relief connections around pins that belong to the same net.

The flood operation uses the Options dialog box settings in the Copper Planes category > "Hatch and Flood subcategory"on page 1511 and Thermals subcategoryon page 1514, and Gridson page 1537 category, as well as the flood and hatch optionson page 1381.

![](/layout/guide/34/_page_1_Picture_9.jpeg)

**Tip** If you have overlapping outlines on the same layer having the same flood priority, the software cannot determine which one is the obstacle and which one is the standoff around the obstacle. To avoid conflicts, the overlapping or common section is drawn as a non-hatch area.

**Procedure**

- 1. Use one of the following methods:
	- Flooding a copper plane using select and flood Use this method to select the copper plane and then apply flooding.
		- i. Select the copper plane.
		- ii. Right-click and click the **Flood** popup menu item.
	- Flooding a copper plane using the Flood button in verb mode Use this method if you have more than one copper plane to flood. You first activate the Flood button in verb mode and then you can sequentially click copper planes and apply flooding.
		- i. On the Drafting Toolbar, click the **Flood** button.
		- ii. Select a copper plane to flood.
		- iii. Click and flood other copper planes as needed.
	- Flooding a copper plane using the Copper Plane Manager Use this method to apply flooding to all copper planes in the design.
		- i. Click the **Tools > Copper Plane Manager** menu item.
		- ii. In the Copper Plane Manager Dialog Box, click Flood.
		- iii. Select one or more layers having copper planes to flood.
		- iv. Click **Start** to start the flood process.
	- Flooding all copper planes in the design by clicking the **Flood All** button on the main toolbar.

![](/layout/guide/34/_page_2_Picture_16.jpeg)

**Tip** To see the plane data in a negative mode, use the C modeless command.

- 2. Inspect the resulting shape:
	- If the copper plane did not fill, see "Troubleshooting Copper Plane Fills" on page 674.
	- If the copper plane filled, but opened a Thermal Relief Errors Report (*therm.err*), see "Troubleshooting Thermal Results" on page 675.
	- If the gap between the pad and the copper for thermals or antipads is incorrect, see "Customizing Design Rule Thermals" or "Customizing Design Rule Antipads".
- If the fill is not correct, see "The Fill of Copper, and Copper Planes" on page 617.
- If the shape edges are not correct, see "Edge Precision of Drafting Shapeson page 615".
- If the shape needs to be modified, see "Drafting Object Properties".
- If you want to start over, see "Deleting a Drafting Segment or Object".

For more information, see "Split/Mixed Plane Layers"on page 683.

**Note:**

Online DRC does not prevent you from moving objects in a flooded area. If you do not reflood the area, Verify Design reports errors. If objects within a flooded area were moved, or thermal settings were changed since the original flooding, you need to flood the area again.

**Related Topics**

Setting Flooding Order of Overlapping Copper Planes

Assigning a Net to a Copper Shape or Copper Plane

Hatching Copper Planes

## Hatching Copper Planes
Hatching refills (with hatch lines) existing poured copper planes for the current session; it does not recalculate the copper plane area.

Each time you open a design file, you must hatch the design; the fill is not saved (you can set the file to hatch automatically each time you open it, however, using the "Autohatch on file load" option in the **Tools > Options** menu item, **Copper Planes** category > **Hatch and Flood** subcategory. Use Flood if you change clearance rules, or make changes to—or within—a copper plane that might create clearance violations.

**Restrictions and Limitations**

• You can only hatch a copper plane that has already been flooded. This converts the pour outline to a hatch outline.

**Procedure**

- 1. Use one of the following methods:
	- Hatching a copper plane using select and hatch Use this method to select the copper plane and then apply hatching.
		- i. Select the copper plane.
		- ii. Right-click and click the **Hatch** popup menu item.
- Hatching a copper plane using the Hatch button in verb mode Use this method if you have more than one copper plane to hatch. You first activate the Hatch button in verb mode and then you can sequentially click copper planes and apply hatching.
	- i. On the Drafting Toolbar, click the **Hatch** button.
	- ii. Select a copper plane to hatch.
	- iii. Click and hatch other copper planes as needed.
- Hatching a copper plane using the Copper Plane Manager Use this method to apply hatching to all copper planes in the design.
	- i. Click the **Tools > Copper Plane Manager** menu item.
	- ii. In the Copper Plane Manager Dialog Box, click Hatch.
	- iii. Click **Start** to start the hatch process.
- 2. Inspect the resulting shape:
	- If the gap between the pad and the copper for thermals or antipads is incorrect, see "Customizing Design Rule Thermals" or "Customizing Design Rule Antipads".
	- If the fill is not correct, see "The Fill of Copper, and Copper Planes" on page 617.
	- If the shape edges are not correct, see "Edge Precision of Drafting Shapeson page 615".
	- If the shape needs to be modified, see "Drafting Object Properties".
	- If you want to start over, see "Deleting a Drafting Segment or Object".

**Note:**

Online DRC does not prevent you from moving objects in a flooded area. If you do not reflood the area, Verify Design reports errors. If objects within a flooded area were moved, or thermal settings were changed since the original flooding, you need to flood the area again.

**Related Topics**

Flooding Copper Planes

## Copper Plane Flood Priorities
To determine which shape should be flooded first, you must set a flood priority to each shape. A shape with a lower priority number will be flooded before an object with a higher priority number. Copper planes on different layers are processed independently.

**Scenario 1**

You have adjacent shapes with a 25mil copper-to-copper clearance rule value.

![](/layout/guide/34/_page_5_Figure_3.jpeg)

**Figure 104. Scenario 1 with Same and Different Flood Priorities**

![](/layout/guide/34/_page_5_Picture_6.jpeg)

**Scenario 2**

You have an embedded shape within a copper plane.

**Figure 105. Scenario 2 with Same and Different Flood Priorities**

![](/layout/guide/34/_page_6_Picture_5.jpeg)

![](/layout/guide/34/_page_6_Figure_7.jpeg)

![](/layout/guide/34/_page_6_Figure_9.jpeg)

**Scenario 3**

You have multiple overlapping shapes.

**Figure 106. Scenario 3 with Wrong and Correct Flood Priorities**

![](/layout/guide/34/_page_8_Figure_3.jpeg)

![](/layout/guide/34/_page_8_Picture_5.jpeg)

![](/layout/guide/34/_page_8_Figure_7.jpeg)

**Related Topics**

Setting Flooding Order of Overlapping Copper Planes

Flooding Copper Planes

## Setting Flooding Order of Overlapping Copper Planes
The order in which copper planes are flooded will determine how they will appear in the design. You must set a flood order, (called the "priority") for each object to define which copper plane should be flooded first. An object with a lower priority number will be flooded before an object with a higher one. Copper planes on different layers are processed independently.

**Procedure**

- 1. Right-click and click the **Select Shapes** popup menu item.
- 2. Select the copper plane.

**Restriction:**

The area you select cannot be a "plane hatch outline"on page 1849.

**Tip**

To quickly give the area the highest priority, bring it to the front (right-click and click the **Bring to front** popup menu item); to give it the lowest priority, send it to the back (rightclick and click the **Send to back** popup menu item).

- 3. Right-click, then click the **Properties** popup menu item.
- 4. In the Drafting Properties Dialog Box, click the **Options** button. If the button does not appear, you have selected a hatch outline.
- 5. In the Flood and Hatch Options Dialog Box, set the flood priority. 0 (zero) is the highest priority (that is, it is flooded first and cannot be flooded over), and 250 the lowest.

![](/layout/guide/34/_page_9_Picture_17.jpeg)

**Tip** You can also see the flood priority number in the status bar as P:<number>, when you select the area.

6. Click **OK** to close all open dialog boxes.

**Related Topics**

Copper Plane Flood Priorities

Keepouts

## Plane Thermal Indicators
Plane thermal indicators are graphic images that show the thermal attribute status of pads.

There are two types of plane thermal indicators, general and specific. Sometimes during editing, thermal markers are covered; redraw the screen to view all of the markers.

| Indicator              | Description                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| General Plane Thermal  | General plane thermal indicators show that a connection to<br>a CAM or split/mixed plane exists somewhere within a pad<br>stack. This indicator shows as a small "x" in the center of the<br>pad:                                                                                                                                                                              |
| Specific Plane Thermal | Specific plane thermal indicators show that a specific pad<br>on a specific layer is connected to a plane. These indicators<br>appear in the color assigned to the board outline in the<br>Display Colors Setup dialog box.<br>There is a different specific plane indicator for CAM planes<br>and split/mixed planes:<br>CAM Plane Indicator:<br>Split/Mixed Plane Indicator: |
| Plane Antipad          | Pads that do not belong to a CAM or split/mixed plane net and<br>are present on one of these layer types appear with a circle to<br>represent the antipad. These pads use the color specified for<br>that layer in the Display Colors Setup dialog box.                                                                                                                        |

**Table 120. Plane Thermal Indicators**

## Understanding How to Manipulate Copper Plane Thermals and Antipads
This section presents conceptual information that applies to the creation of copper planes and the use of custom thermals.

For procedures to create copper planes, see "Creating a Copper Plane Manually"on page 667 and for custom thermals, see "Creation of Thermals in the Pad Stacks"on page 186.

Common Copper Plane Thermal and Antipad Clearance Scenarios Common Thermal Style Scenarios

### Common Copper Plane Thermal and Antipad Clearance Scenarios
This section discusses the four most common setting-combinations that affect a design's thermal and antipad clearances. Understanding these settings enables you to predictably create the thermal and antipad clearances that you desire.

Default Thermals and Antipads Design Rules for Thermals and Antipads Custom Thermals and Antipads Hierarchy Between Custom Thermals and Antipads and the Use of Design Rules for Thermals and  Antipads

#### Default Thermals and Antipads
There are a number of common settings for the default thermals and antipads. Once familiar with these settings, you can determine which ones you should use to accomplish your design goals.

Setup required:

- 1. Remove Unused Padson page 1514 check box selected (enabled)
- 2. Use Design Rules for Thermals and Antipadson page 1514 check box cleared (disabled)
- 3. No custom thermals defined in Pad Stacks Propertieson page 1566
- 4. No custom antipads defined in Pad Stacks Propertieson page 1566

The Remove Unused Pads setting removes the pad from any component pin or via on an inner layer if that pin or via is not thermally tied to the copper plane or there are no routes coming off that pin or via on the plane layer.

Default thermals and antipads use the following basic formulas for calculating the clearance to the drill for antipads and the clearance to the pad for thermals:

- Default component through-hole antipad diameter = (2 x Copper-to-Pad clearance value) + pad size
- Default via antipad diameter = (2 x Copper-to-Via clearance value) + via pad size

**Example:** +5V via in a +12V copper plane with 35 mil pad, 20 mil drill, and 8 mil copper-to-via clearance value would result in a 51 mil diameter antipad, (2 x 8) + 35 = 51. Default copper to pad or copper to via clearance on thermals is simply controlled by the copper-to-pad or copper-to-via values.

**Note:** The drill-to-copper clearance is used when the drill size is larger than the pad size, as defined in the pad stack setup.

The rules hierarchyon page 404 influences the default antipad and thermal clearance sizes. A Net rule with a higher copper-to-pad value than the default rule will create larger antipad sizes and greater clearance on thermals for the pins of that net. A net rule created for the plane net will not affect the antipad clearance size, but will affect the copper clearance on thermals. Net rules for the opposing nets will affect antipad size.

Conditional rules have some special behaviors. A Conditional rule in which a net is set against a layer will utilize the default antipad calculation. However, a Conditional rule in which one net is set against another net will not affect the antipad size unless the "Use Design Rules for Thermals and Antipads" setting is enabled - see "Design Rules for Thermals and Antipads".

#### Design Rules for Thermals and Antipads
These are a number of common settings for Design Rules for thermals and antipads. Once familiar with these settings, you can determine which ones you should use to accomplish your design goals.

Setup required:

- 1. Remove Unused Padson page 1514 check box selected (enabled)
- 2. Use Design Rules for Thermals and Antipadson page 1514 check box selected (enabled)
- 3. No custom thermals defined in Pad Stacks Propertieson page 1566
- 4. No custom antipads defined in Pad Stacks Propertieson page 1566

The thermals and antipads are now independently controlled by the Design Rules. This method enables you to create large antipad sizes without affecting the clearance on pads with thermals. The antipad size created affects both vias and component pads.

• Antipad Diameter for component pads and vias = (2 x Copper-to-drill) + Drill size

Thermal clearance is controlled by design rules copper-to-pad and copper-to-via settings. The rules hierarchy influences the default antipad and thermal clearance sizes. A net rule for the plane net affects the antipad size of any opposing net if you adjust the drill-to-copper value.

**Example:** A copper plane is defined for +12v, a net rule for +12v with an increased drill-to-copper value will cause the antipad size to increase for all non-connected pins or vias within the +12v copper plane.

Conditional rules have some special behaviors. A Conditional rule in which a net is set against a layer will utilize the default antipad calculation - see "Default Thermals and Antipads." However, a Conditional rule in which one net is set against another net will not affect the antipad size unless the "Use Design Rules for Thermals and Antipads" setting is enabled.

#### Custom Thermals and Antipads
Custom thermals and antipads both have some common settings. Familiarize yourself with these settings to determine best which ones to use for accomplishing your design goals.

Setup required:

- 1. Remove Unused Padson page 1514 check box selected (enabled)
- 2. Use Design Rules for Thermals and Antipadson page 1514 check box cleared (disabled)
- 3. You have custom thermals defined in Pad Stacks Propertieson page 1566
- 4. You have custom antipads defined in Pad Stacks Propertieson page 1566

Design rule settings do not affect the custom antipad size you define for the decal(s). The custom pad stack settings determine thermal or antipad clearances as well as any clearance checks.

![](/layout/guide/34/_page_14_Picture_4.jpeg)

**Note:** You must select the Remove Unused Pads check box to enable custom antipad creation.

#### Hierarchy Between Custom Thermals and Antipads and the Use of Design Rules for Thermals and Antipads
There are a number of common settings for establishing the hierarchy between custom thermals and antipads and the use of Design Rules for thermals and antipads. Once familiar with these settings, you can determine which ones you should use to accomplish your design goals.

Setup required:

- 1. Remove Unused Padson page 1514 check box selected (enabled)
- 2. Use Design Rules for Thermals and Antipadson page 1514 check box selected (enabled)
- 3. You have custom thermals defined in Pad Stacks Propertieson page 1566
- 4. You have custom antipads defined in Pad Stacks Propertieson page 1566

All custom antipad settings are ignored on pins and vias. The antipad size are determined by the copperto-drill value in design rules.

• Antipad Diameter for component pads and vias = (2 x Copper-to-drill clearance value) + Drill size

A custom thermal's inner diameter is still used (the actual pad size), however the copper-to-pad clearance is used for component pins and the copper-to-via clearance is used for vias. The outer diameter value from a custom thermal is ignored in favor of the design rules.

