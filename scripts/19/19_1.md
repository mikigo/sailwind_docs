# Chapter 19 Setting Rules and Using Keepouts
Read the topics that follow to learn more about setting up design rules for your design. You can also import rules from the schematic.

Design Rules Design Rules Transfer Import and Export of Design Rules Creation of Rules for Your Design Design Rules Setup Creating a Report of the Design Rules Turning on Design Rule Checking Check Design Rules Restricting Heights on Component Layers Restricting Heights in Areas of Component Layers Keepouts

## Design Rules
Design rules represent constraints, such as clearances and available routing layers, that support manufacturing, signal integrity, and other design requirements. SailWind Layout can perform design rule checking as you interactively place and route the design (called on-line design rule checking or just DRC), or after you complete design operations.

Most rules that you set up are used by On-line Design Rule Checking and can actively prevent you from making design errors. Some rules are only checked as a post-process using the Verify Design utility. Lastly, some rules are only used by the advanced capabilities of SailWind Router.

Setup Strategy Design Rule Hierarchy Design Rule Categories Non-Default Rules Indicators Advanced Rules Option Design Rule Checking

### Setup Strategy
The first step in your strategy for setting up the rules of your design is to create a set of default rules.

The default rules are a set of rules that apply to all the objects in your design that will not have any other rules assigned. Objects with hierarchical rules take precedence over the default rules. For example, a pin pair rule with a Trace Width of 10 will override the default rule with a Trace Width of 5.

**Note:** Larger clearance rules always have precedence despite the order of the hierarchy. For example, if you use a Default clearance rule of 50 mils, but a higher Net clearance rule of 10 mils, the more restrictive default clearance rule of 50 mils has precedence and is applied to the net even though a hierarchical Net clearance was created. Clearance rules should be less restrictive at lower levels of the hierarchy. They should be a minimum clearance value.

After the Default rule set has been created, create hierarchical rules based on the requirements of your design. Any hierarchical rules that are created are based on the Default set.

### Design Rule Hierarchy
The design rule hierarchy enables you to specify a default set of rules for the entire design and additional rules for individual objects or collections of objects.

For example, you might specify in the default design rules a small trace width that would be adequate for signal nets, and then specify a large trace width for a classon page 1816 composed of power nets.

Because objects can be subject to multiple design rules, the design rule hierarchy specifies the priority of the rule types, so you can predict which design rule is applied to an object.

**Basic Object Hierarchy**

The objects in the design are defined using a basic object or relational hierarchy.

The design hierarchy can be easily visualized in the Rules Dialog Box.

The lowest level of the hierarchy begins with the Default level. Once you set the Default rules, they apply to all design objects, unless you customize the rules at a higher level of the hierarchy. In the figure below, each object to the right of the Default rules takes precedence over the object before it. For example, the Net level has a higher priority than the Class level, which has only a higher priority than the Default level. The Component level of the hierarchy has the highest priority in the hierarchy.

![](/layout/guide/19/_page_2_Figure_3.jpeg)

**Figure 27. Basic Object Hierarchy**

|  | Table 93. Hierarchy Descriptions |
|--|----------------------------------|
|  |                                  |

| Hierarchy level | Description                                                                                                                                                                                                |  |
|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Default         | Rules that apply to an object if there are no other individually defined rules.                                                                                                                            |  |
| Class           | Rules for a collection of nets, called a class, that need identical rules.                                                                                                                                 |  |
| Net             | Rules for a specific net.                                                                                                                                                                                  |  |
| Group           | Rules for a collection of pin pairs, called a group, that need identical rules.                                                                                                                            |  |
| Pin Pair        | Rules for a specific pin pair.<br>Usage example: A net needs different trace widths for certain pin-to-pin<br>connections within it. You can apply rules to only those selected pin-to-pin<br>connections. |  |
| Decal           | Rules for all components using a specific decal.                                                                                                                                                           |  |
| Component       | Rules for a specific component.                                                                                                                                                                            |  |

**Complete Hierarchy**

The complete hierarchy is not limited to the seven buttons in the Rules dialog box.

Conditional Rules add many levels in between and are used extensively in the complete design rule hierarchy. Conditional design rules are rules that come into effect when an object is adjacent to another object named in the conditional rule and/or on a layer named in the conditional rule. For example: Change a trace at any point in its length depending on the layer on which it resides. Net A may be assigned a default clearance of 12, but may need to reduce to 8 when it enters layer 4. In this case, you can assign 12 as the default for net A and make a conditional rule which applies an 8 mil clearance to net A against layer 4.

Although the hierarchy is more extensive than the basic object hierarchy as seen in the Rules dialog box, the relationships that are found in the basic object hierarchy are still maintained by the conditional rules. For example, Net rules have a priority over Class rules in the basic hierarchy. So, a net to net conditional rule also has priority over a class to class rule.

The following list is the complete hierarchy when all possible design rules are involved. This lists the priority for all rules from lowest to highest. Default rules, at level 1, have the lowest priority and represent the lowest level of the rules hierarchy. Component rules, at level 32, have the highest priority and represent the highest level of the rules hierarchy.

![](/layout/guide/19/_page_3_Picture_2.jpeg)

**Note:**

Electrical net rules are not part of the rules hierarchy.

- 1. Default ruleson page 416
- 2. Default clearance rules on a specific layer \(Conditional\)on page 416
- 3. Class ruleson page 418
- 4. Class clearance rules on a specific layer \(Conditional\)on page 422
- 5. Net ruleson page 423
- 6. Net clearance rules on a specific layer \(Conditional\)on page 424
- 7. Group ruleson page 426
- 8. Group clearance rules on a specific layer \(Conditional\)on page 430
- 9. Pin Pair ruleson page 431
- 10. Pin Pair clearance rules on a specific layer \(Conditional\)on page 432
- 11. Class against Class rules \(Conditional\)on page 433
- 12. Class against Class rules on a specific layer \(Conditional\)on page 433
- 13. Net against Class rules \(Conditional\)on page 435
- 14. Net against Class rules on a specific layer \(Conditional\)on page 435
- 15. Net against Net rules \(Conditional\)on page 437
- 16. Net against Net rules on a specific layer \(Conditional\)on page 437
- 17. Group against Class rules \(Conditional\)on page 439
- 18. Group against Class rules on a specific layer \(Conditional\)on page 439
- 19. Group against Net rules \(Conditional\)on page 441
- 20. Group against Net rules on a specific layer \(Conditional\)on page 441
- 21. Group against Group rules \(Conditional\)on page 443
- 22. Group against Group rules on a specific layer \(Conditional\)on page 443
- 23. Pin Pair against Class rules \(Conditional\)on page 445
- 24. Pin Pair against Class rules on a specific layer \(Conditional\)on page 445
- 25. Pin Pair against Net rules \(Conditional\)on page 447
- 26. Pin Pair against Net rules on a specific layer \(Conditional\)on page 447
- 27. Pin Pair against Group rules \(Conditional\)on page 449
- 28. Pin Pair against Group rules on a specific layer \(Conditional\)on page 449
- 29. Pin Pair against Pin Pair rules \(Conditional\)on page 451
- 30. Pin Pair against Pin Pair rules on a specific layer \(Conditional\)on page 451
- 31. Decal ruleson page 453

![](/layout/guide/19/_page_4_Picture_12.jpeg)

**Restriction:**

Decal rules are not used in SailWind Layout.

**32. Component ruleson page 455**

**Restriction:**

Component rules are not used in SailWind Layout.

33. Differential pair rules

![](/layout/guide/19/_page_4_Picture_20.jpeg)

**Restriction:**

Only the gap value applies to the hierarchy; it is considered as the equivalent of the trace to trace clearance.

### Design Rule Categories
SailWind Layout provides five possible categories of design rules. Not all categories are available at all levels of the basic hierarchy.

For example, the Fanout and Pad Entry categories are only available at the Default, Decal, and Component levels.

**Figure 28. Rule Category Icons**

![](/layout/guide/19/_page_5_Figure_2.jpeg)

**Table 94. Design Rule Category Descriptions**

| Rule Category                   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Clearance ruleson<br>page 1167  | Set the minimum allowable air gap between various object types in the<br>design, such as trace to trace and via to trace.                                                                                                                                                                                                                                                                                                                                   |  |
|                                 | Tip<br>You can also define conditional clearance rules that apply when<br>an object is adjacent to a specified object, or when an object is<br>on a specified layer. For example, you can use conditional rules<br>to specify different clearance rules for a net when it is routed on<br>different layers.                                                                                                                                                 |  |
| Routing ruleson<br>page 1666    | Topologyon page 1867 type, assign and prohibit via types, layers<br>available for routing, specify maximum number of vias per net, specify<br>topology types, and allow or prohibit autorouting.                                                                                                                                                                                                                                                            |  |
| High Speed ruleson<br>page 1402 | Parallelismon page 1845, shieldingon page 1859, geometric and<br>electrical constraints, and length matching.on page 1837 Set the<br>minimum and maximum parameters for advanced design rules, such<br>as parallelism, delay, and capacitance. You can pass these rules from<br>the schematic or assign them in SailWind Layout. You can also pass<br>clearance and routing rules to autorouters. The router must be able to<br>interpret the passed rules. |  |
|                                 | Tip<br>You can also define conditional high-speed rules that apply when<br>an object is adjacent to a specified object, or when an object is<br>on a specified layer. For example, you can use conditional rules<br>to specify different high-speed rules for a net when it is routed on<br>different layers.                                                                                                                                               |  |
| Fanout ruleson<br>page 1375     | Adding copper shapes automatically to SMDon page 1860 pads to<br>make routing easier and to ensure that connections are made.<br>Restriction:<br>These rules are only used by SailWind Router                                                                                                                                                                                                                                                               |  |
| Pad Entryon page 1564           | Location and angles for pad-to-trace intersections, and rules for<br>placing vias on SMDon page 1860 pads.                                                                                                                                                                                                                                                                                                                                                  |  |
|                                 | Tip<br>These rules are only used by SailWind Router                                                                                                                                                                                                                                                                                                                                                                                                         |  |

### Non-Default Rules Indicators
When you change rules in the hierarchy from the default rules, two types of indicators appear.

The indicators visually show that rules have been customized from the default rules.

• The categories of rules customized at the current rule level are displayed parenthetically beside the class, net, group, or pin pair name in the list.

| +5V (C)    |    |
|------------|----|
| +12V (C)   |    |
| 24MHZ (RH) | mi |
| A00        |    |
| A01        |    |
| A02        |    |
| A03        |    |
| A04        |    |
| A05        |    |
| AOS        |    |
| A07        |    |

**Figure 29. Non-Default Parenthetical Indicators**

C = Clearance rules

R = Routing rules

H = High speed rules

Example: A net listing followed by (RH) has non-default routing and high speed rules definitions.

• The icon that appears below each rule category button indicates whether the rules are customized at the current rule level or if it is only customized at another rule level.

![](/layout/guide/19/_page_6_Figure_10.jpeg)

**Figure 30. Non-Default Icon Indicators**

The meaning of the icon corresponds to the button in the Hierarchy area of the Rules dialog box.

Example: If a green polygon appears below the Clearance button, then the default values apply at the current level of the hierarchy for the object you've selected.

### Advanced Rules Option
The Advanced Rules option is a license-enabled modular add-on that extends the restricted rule set to allow use of the full rule set.

The full set of constraints allow for control of more complex designs. Without the Advanced Rules option, you only have access to the Default, and Net design rules. With the Advanced Rules options, your license enables the Class, Group, Pin Pairs, Decal, Component, Conditional Rules, and Differential Pairs Rules.

When you use Advanced Rules, the Hierarchical dialog boxes on the Design Rules dialog box are available. You can read in hierarchically assigned rules from a netlist and edit and save rule changes using the hierarchy.

If you do not have the Advanced Rules option, the Hierarchical dialog boxes on the Design Rules dialog box are not available. However, schematic-applied hierarchical rules reside in the netlist, and they can be passed to any autorouter that can interpret them.

### Design Rule Checking
On-line Design Rule Checking (DRC) provides continuous rule checking during routing and placement.

On-line DRC does not check clearance for text, open associated copper, or free copper belonging to a decal. The following table shows the four DRC modes.

| Mode           | Purpose                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|
| Prevent Errors | Prevents you from completing any operation that will create errors.<br>You cannot paste items from the paste buffer. You cannot create<br>or change (move, split, or miter, for example) the following items:<br>board outlines, board cutouts, text, copper, and keepouts. To<br>edit the Properties of these items, turn off On-line DRC using the<br>modeless command, DRO. You can also right-click and click the<br>Ignore Clearance popup menu item to temporarily override DRC<br>and complete an operation. When you are done, On-line DRC<br>automatically resets to Prevent mode. |  |
| Warn Errors    | Warns that a design rule violation has occurred by highlighting the<br>rule obstacles.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |  |
| Ign Clrn       | Ignores clearance checking.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |
| Off            | DRC is completely deactivated. When On-line DRC is off, program<br>performance is enhanced. However, you are limited to the Route<br>command for trace editing. When you turn On-line DRC on again,<br>SailWind Layout pauses to map the board. The undo buffer is cleared<br>when you turn On-line DRC off, but is still available for further edits.                                                                                                                                                                                                                                      |  |

**Table 95. Design Rule Checking Modes**

To turn On-line DRC on use the **Design** category in the Options dialog box or the modeless command, DRP or DRW. After activating On-line DRC, you can change the setting using the dialog box, or the modeless commands.

When On-line DRC is activated, an octagon shaped guard band appears at the end of the route to indicate any clearance violation. You can hide the guard band using the Show Guard Band option in the Options dialog box > **Routing** category > **General** subcategory.

On-line Design Rule Checking is available on most SailWind Layout configurations. For Advanced Design Rules package users, all hierarchical rules, except High Speed EDC settings, are monitored.

**Clearance Checking Against Text**

For clearance checking against text, a rectangle referred to as an extent box is drawn around the text string, calculated as a smallest rectangle that will contain the text string. If a text string is rotated, the extent box is also rotated.

Text strings included in clearance checking are those that exist on the same level as other checked objects, or created to appear and on all layers.

![](/layout/guide/19/_page_8_Picture_5.jpeg)

**CAUTION:**

Text belonging to a decal is not checked for clearance by On-line DRC.

**Clearance Checking Against Copper**

Clearance checking against copper includes closed or open copper that is not part of the current net being routed and exists on the same layer as other checked objects. Closed copper in a decal that is associated with a terminal is checked for clearance by On-line DRC.

![](/layout/guide/19/_page_8_Picture_10.jpeg)

**CAUTION:**

On-line DRC does not check the clearance of open associated copper and free copper belonging to a decal.

## Design Rules Transfer
Schematic and design files store the design rules you create. Design rules set up in SailWind Logic transfer automatically when you import the netlist into SailWind Layout. Design rules you set up in SailWind Layout become available automatically when you open the design in SailWind Router.

![](/layout/guide/19/_page_8_Picture_15.jpeg)

**Note:**

SailWind Logic supports only default, class, and net rules.

## Import and Export of Design Rules
You can export and import design rules for the purpose of reusing them in future designs that require the same constraints.

- To export design rules, follow the instructions to export an ASCII fileon page 291, but in the ASCII Output dialog box, select only the Rules check box.
- To import the design rules, follow the instructions to import an ASCII fileon page 290.

**Related Topics**

**Check Design Rules**

## Creation of Rules for Your Design
SailWind Layout provides many levels of rules in the rules hierarchy. You can create rules at each level of the hierarchy.

![](/layout/guide/19/_page_9_Picture_3.jpeg)

**Restriction:**

The links below are in hierarchical order from lowest to highest priority. For more information, see "Design Rule Hierarchy".

**Links to Procedures for Creating all Rule Types**

**Default Rules**

- Creating Default Rules
- Creating Default Clearance-Rules for a Specific Layer(Conditional Rule)

**Class Rules**

- Class Design Rules
- Creating Class Clearance Rules for a Specific Layer(Conditional Rule)

**Net Rules**

- Net Design Rules
- Creating Net Clearance Rules for a Specific Layer(Conditional Rule)

**Group Rules**

- Group Design Rules
- Creating Group Clearance Rules for a Specific Layer(Conditional Rule)

**Pin Pair Rules**

- Pin Pair Design Rules
- Creating Pin Pair Clearance Rules for a Specific Layer(Conditional Rule)

**Class Against... Rules**

- Creating a Class Against Class Design Rule(Conditional Rule)
- Creating a Class Against Class Design Rule for a Specific Layer(Conditional Rule)

**Net Against... Rules**

- Creating a Net Against Class Design Rule(Conditional Rule)
- Creating a Net Against Class Design Rule for a Specific Layer(Conditional Rule)
- Creating a Net Against Net Design Rule(Conditional Rule)
- Creating a Net Against Net Design Rule for a Specific Layer(Conditional Rule)

**Group Against... Rules**

- Creating a Group Against Class Design Rule(Conditional Rule)
- Creating a Group Against Class Design Rule for a Specific Layer(Conditional Rule)
- Creating a Group Against Net Design Rule(Conditional Rule)
- Creating a Group Against Net Design Rule for a Specific Layer(Conditional Rule)
- Creating a Group Against Group Design Rule(Conditional Rule)

• Creating a Group Against Group Design Rule for a Specific Layer(Conditional Rule) **Pin Pair Against... Rules**

- Creating a Pin Pair Against Class Design Rule(Conditional Rule)
- Creating a Pin Pair Against Class Design Rule for a Specific Layer(Conditional Rule)
- Creating a Pin Pair Against Net Design Rule(Conditional Rule)
- Creating a Pin Pair Against Net Design Rule for a Specific Layer(Conditional Rule)
- Creating a Pin Pair Against Group Design Rule(Conditional Rule)
- Creating a Pin Pair Against Group Design Rule for a Specific Layer(Conditional Rule)
- Creating a Pin Pair Against Pin Pair Design Rule(Conditional Rule)
- Creating a Pin Pair Against Pin Pair Design Rule for a Specific Layer(Conditional Rule) **Decal Rules**
	- Creating Decal Design Rules

**Component Rules**

• Creating Component Design Rules

**Differential Pair Rules**

• Creating Differential Pair Design Rules

