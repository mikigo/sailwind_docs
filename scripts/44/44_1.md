# Chapter 44 SPECCTRA Link
The SPECCTRA Link sends PCB design file data to a SPECCTRA design file, and then imports the SPECCTRA results back to a PCB design file. The Link features an automatic DO File editor to edit existing or new DO files. Parameters are automatically saved between sessions.

SPECCTRA translates route protection status, physical design reuses, test point settings on both vias and component pins, decal keepouts, board keepouts, and board cutouts. Route protection status is passed to and from SPECCTRA for routed traces and vias using SPECCTRA's fix attribute for wires and route attribute for vias. Protection for unrouted traces is passed to SPECCTRA only for whole connections, such as routed links that start and end on component pins. For more information, see Route Protection Status to SPECCTRA.

Unused Pins Net Data Passed to SPECCTRA SailWind Layout to SPECCTRA Rules Conversion SPECCTRA Output File Location and Router Settings Loading In and Out of SPECCTRA Automatically Loading In and Out of SPECCTRA Manually Translating Design Data from SailWind Layout to SPECCTRA Translating Design Data from SPECCTRA to SailWind Layout Setting SPECCTRA Options Setting the SPECCTRA Automatic Startup Information Creating or Editing a .do File Setting up SPECCTRA .do File Startup Options SPECCTRA and Split/Mixed Planes Defining Split Planes Before Routing in SPECCTRA Defining Split Planes After Routing in SPECCTRA

## Unused Pins Net
SailWind Layout passes unused pins, or pins that are not connected to a net, to SPECCTRA. These pins and their fanouts are added to a net of unused pins called +UNUSED\_PINS+ in SPECCTRA (this was formerly called \*UNUSED\_PINS\*). When you return the routed design to SailWind Layout, you can also pass the unused pins and fanout information. The +UNUSED\_PINS+ net information is translated into the NOT\_CONNECTED net in SailWind Layout. You can change the name of the NOT\_CONNECTED net in the SPECCTRA Options dialog box, but the net should have a unique name.

The NOT\_CONNECTED net is a normal net inside SailWind Layout that contains the fanout via, the trace, and the unused pin. Because this net is a normal net in SailWind Layout, pins in it are no longer treated as unused pins in subsequent SPECCTRA sessions. Use the existing DO file to protect this net from being routed as a normal net in subsequent sessions. To recreate this net in SPECCTRA, delete it in SailWind Layout before routing the design.

**Tip**

SailWind Layout cannot define a connection for a single pin net; therefore, if the +UNUSED\_PINS + net contains only a single component pin and fanout, SailWind Layout cannot interpret it.

The figure below demonstrates fanouts on unused pins in SPECCTRA. It also demonstrates how SailWind Layout interprets those fanouts and unused pins. Because SPECCTRA now translates test point attributes on component pins as well as on vias, the following figure demonstrates how SPECCTRA passes test points assigned to the fanouts of the unused pins.

**Figure 126. Fanouts on Unused Pins**

![](/layout/guide/44/_page_1_Figure_5.jpeg)

## Data Passed to SPECCTRA
You can pass DFT audit settings and keepouts to SPECCTRA.

**DFT Audit Settings to SPECCTRA**

You can pass DFT Audit test point placement options to SPECCTRA for its test point placement routine. SPECCTRA generally uses these options when applicable. Options such as test point clearances are passed to SPECCTRA. But options such as nail diameters and fixture drill sizes are used only by DFT Audit. Because they do not affect SPECCTRA's test point insertion, this type of information is not passed.

SPECCTRA bases its clearance calculations on DFT Audit options. SPECCTRA's clearance options are set in the Setup Test Point Rule area of the SPECCTRA DO File dialog box. For more information about DFT Audit, see "Design for Test".

**Tip** SPECCTRA does not allow assigning multiple test points to net. This setting is not passed to SPECCTRA.

**Keepouts to SPECCTRA**

The SailWind Layout to SPECCTRA Link supports via keepouts and passing other types of keepouts (for wires, bends, components, and pins) to SPECCTRA. Copper shapes on any level are passed in this way. By manipulating this existing keepout functionality, you can pass other specific keepouts to SPECCTRA.

SailWind Layout supports keepouts in the Layout Editor.

**Slotted Holes to SPECCTRA**

Non plated slotted holes are converted to keepouts on all layers. Plated slotted holes use a circular drill at the electrical center.

**Route Protection Status to SPECCTRA**

You can set options in SailWind Layout that prevent modifying routed traces and vias in SPECCTRA. This feature protects critically placed routes during interactive routing and in batch routing in automatic routers. Protection is passed to and from SPECCTRA. Components, vias, test points, and other design items associated with protected routes or unroutes are also protected.

**Protected Traces and Vias to SPECCTRA**

Routed traces with protected status are passed to SPECCTRA with a fix attribute. You cannot modify fixed traces, and the router cannot route to this trace.

Vias attached to at least one protected trace are passed to SPECCTRA with a route attribute. Although you cannot modify these vias, you can route to them to complete a connection.

Table 139lists the rules used by the SPECCTRA Link to determine via attributes.

<span id="page-2-1"></span>

| Via has protected<br>traces | Locked test point<br>status | Glue status | SPECCTRA via status |
|-----------------------------|-----------------------------|-------------|---------------------|
| Yes                         | Any                         | Any         | Route               |
| No                          | Yes                         | Any         | Route               |
| No                          | No                          | Yes         | Protect             |
| No                          | No                          | No          | Normal (by default) |

**Table 139. SPECCTRA Link Rules**

**Protected, Unrouted Traces to SPECCTRA**

Route protection status is passed to SPECCTRA only for those SailWind Layout unrouted traces that are whole connections, which start and end on component pins. Unrouted connections are passed to SPECCTRA as a fromto with a fix attribute.

**Protected Components with Routed Traces to SPECCTRA**

A component is passed to SPECCTRA with lock status as long as the component has at least one pin attached to a trace with route protection.

**Receiving Protection Status for Routed Traces from SPECCTRA**

- SPECCTRA wires that have a fix attribute are returned to SailWind Layout as traces with route protection.
- Vias with a protect attribute in SPECCTRA are transformed to glued status in SailWind Layout.
- Vias that have a route attribute in SPECCTRA are not given special protection in SailWind Layout.

Table 140through Table 142provide lists of the passing and returning protection status for SailWind Layout traces, vias, and unroutes.

<span id="page-3-0"></span>

| Status in<br>SailWind Layout | Status passed to<br>SPECCTRA | Protection in<br>SPECCTRA | Status<br>passed from<br>SPECCTRA | Status returned<br>to SailWind<br>Layout |
|------------------------------|------------------------------|---------------------------|-----------------------------------|------------------------------------------|
| Regular trace                | Normal type wire             | ---                       | Normal type                       | Regular trace                            |
| Regular trace                | Normal type                  | Protect                   | Protect type                      | Regular trace                            |
| Regular trace                | Normal type                  | Fix                       | Protect type                      | Regular trace                            |
| Protected trace              | Fix type                     | ---                       | Fix type                          | Protected trace                          |
| Protected trace              | Fix type                     | Protect/Unprot<br>ect     | Fix type                          | Protected trace                          |
| Protected trace              | Fix type                     | Fix/unfix                 | Fix type                          | Protected trace                          |

**Table 140. Protection Status for Traces**

**Table 141. Protection Status for Vias**

| Status of trace in SailWind Layout |                     |                 |                              |                           |                                   |                                             |
|------------------------------------|---------------------|-----------------|------------------------------|---------------------------|-----------------------------------|---------------------------------------------|
| Has<br>Protected<br>Traces         | Locked<br>TP status | Glued<br>Status | Status passed<br>to SPECCTRA | Protection in<br>SPECCTRA | Status<br>passed from<br>SPECCTRA | Status<br>returned to<br>SailWind<br>Layout |
| Yes                                | Any                 | Any             | Route                        | Any                       | Route                             | Normal*                                     |
| No                                 | Yes                 | Any             | Route                        | Any                       | Route                             | Normal*                                     |
| No                                 | No                  | Yes             | Protect                      | ---                       | Protect                           | Glued                                       |
| No                                 | No                  | Yes             | Protect                      | Unprotect                 | Normal                            | Normal**                                    |
| No                                 | No                  | Yes             | Protect                      | Unfix                     | Protect                           | Glued                                       |
| No                                 | No                  | Yes             | Protect                      | Fix, protect              | Protect                           | Glued                                       |
| No                                 | No                  | No              | Normal                       | ---                       | Normal                            | Normal                                      |
| No                                 | No                  | No              | Normal                       | Fix, protect              | Protect                           | Glued                                       |

\* If defined in the original SailWind Layout design, the glue status of the via is lost. The test point is preserved by SPECCTRA and is returned to the SailWind Layout design.

\*\* You can delete the via in SPECCTRA if the route, edit, or clean commands are performed in SPECCTRA after the Unprotect command.

<span id="page-3-1"></span>

| Type of Unroute in SailWind<br>Layout | Passed to SPECCTRA<br>as | Returned from SPECCTRA as |  |
|---------------------------------------|--------------------------|---------------------------|--|
| Not protected unroute                 | No special handling      | No special handling       |  |

|  | Table 142. Protection Status for Unroutes |  |  |
|--|-------------------------------------------|--|--|
|--|-------------------------------------------|--|--|

| Type of Unroute in SailWind<br>Layout                 | Passed to SPECCTRA<br>as | Returned from SPECCTRA as                               |
|-------------------------------------------------------|--------------------------|---------------------------------------------------------|
| Protected totally unrouted<br>connection              | Fromto type, Fix         | No special handling—not protected<br>in SailWind Layout |
| Protected unroutes of partially<br>routed connections | No special handling      | No special handling                                     |

**Table 142. Protection Status for Unroutes(continued)**

**Physical Design Reuses to SPECCTRA**

Routes that are elements of a physical design reuse are passed to SPECCTRA with a fix attribute. Therefore, you cannot modify or route them. SPECCTRA only connects to vias and coppers in a physical design reuse if they are passed with a route attribute. Table 143provides a summary of Physical Design Reuse Processing.

|  |  |  | Table 143. Physical Reuse Processing |
|--|--|--|--------------------------------------|
|--|--|--|--------------------------------------|

<span id="page-4-1"></span>

| Reuse Element       | Passed to SPECCTRA<br>as | Returned from SPECCTRA                                                                                             |
|---------------------|--------------------------|--------------------------------------------------------------------------------------------------------------------|
| Component           | lock_type fix            | No(Warning issued; whether it<br>has changed, or not, the new<br>placement is not returned to<br>SailWind Layout.) |
| Via                 | type route               | No                                                                                                                 |
| Trace               | type fix                 | No                                                                                                                 |
| Jumper              | lock_type fix            | No                                                                                                                 |
| Copper with netname | type route               | No                                                                                                                 |

**Jumpers to SPECCTRA**

You can pass jumpers to SPECCTRA. SPECCTRA will not attempt to route SailWind Layout jumpers.

![](/layout/guide/44/_page_4_Picture_9.jpeg)

**Tip** Do not use SPECCTRA jumpers; they are not backward compatible.

## SailWind Layout to SPECCTRA Rules Conversion
Design Rules are converted into one of two types of SPECCTRA rules using the keywords RULE and CIRCUIT. The type used in the conversion is indicated for each SPECCTRA rule.

**Routing, High-Speed, and Clearance Rules**

Routing, high-speed, and clearance rules are supported for classes, nets, groups, and pin pairs. Additionally, as Table 144shows, SailWind Layout default rules are passed when possible.

<span id="page-5-0"></span>

| SailWind Layout Routing Rules                                                            | SPECCTRA Routing Rules      |
|------------------------------------------------------------------------------------------|-----------------------------|
| Copper Sharing                                                                           | (rule (tjunction on/off))   |
| Priority                                                                                 | (circuit (priority #))      |
| Selected Layers*                                                                         | (circuit (use_layer # # #)) |
| Selected Vias*                                                                           | (circuit (use_via a b c))   |
| *Selected Layer and Selected Via rules require the Advanced Rules option in<br>SPECCTRA. |                             |

**Table 144. Routing Rules**

The Link passes default routing rules to SPECCTRA. Copper Sharing is passed at the PCB rule level.

The Link also passes Priority, Selected Layers, and Selected Vias by creating an artificial class containing all nets you did not assign to a class. This artificial class is named CLASS\_nnnnnnn, where nnnnnnn is a number from 0 to 9999999. The default routing rules are then passed to SPECCTRA in this artificial class, as shown in Table 145.

<span id="page-5-1"></span>

| SailWind Layout High-Speed Rules | SPECCTRA High-Speed Rules                                                                                                |  |
|----------------------------------|--------------------------------------------------------------------------------------------------------------------------|--|
| Min/Max Length                   | (circuit (length max min) (type actual))                                                                                 |  |
| Stub Length                      | (rule (max_stub #))                                                                                                      |  |
| Match Lengths                    | (circuit (match_fromto_length on/off) (tolerance dist))                                                                  |  |
| Shielding w/Gap                  | (circuit (shield on (use_net net)))(rule (shield_gap<br>dist))Net must be a power net or SPECCTRA will fail<br>on input. |  |
| Parallelism Length and Gap       | (rule (parallel_segment (gap dist) (limit dist)                                                                          |  |

**Table 145. High-Speed Rules**

The Link passes the default high-speed rules to SPECCTRA. It passes Parallel Length, Tandem Length and Gap, Stub Length, and Min/Max Length by creating an artificial class containing all nets you did not assign to a class. This artificial class is named CLASS\_nnnnnnn, where nnnnnnn is a number from 0 to 9999999. The high-speed rules are then passed to SPECCTRA in this artificial class.

**Clearance Rules**

As shown in Table 146, SPECCTRA accepts only one trace width per rule so the recommended width is passed.

<span id="page-6-0"></span>

| SailWind Layout        | SPECCTRA                                       |
|------------------------|------------------------------------------------|
|                        | (rule(width dist)                              |
| Trace to Trace spacing | (clearance dist (type wire_wire))              |
| Via to Trace spacing   | (clearance dist (type via_wire))               |
| Via to Via spacing     | (clearance dist (type via_via))                |
| Pad to Trace spacing   | (clearance dist (type pin_wire))               |
| Pad to Via spacing     | (clearance dist (type pin_via))                |
| Pad to Pad spacing     | (clearance dist (type pin_pin))                |
| Smd to Trace spacing   | (clearance dist (type smd_wire))               |
| Smd to Via spacing     | (clearance dist (type smd_via))                |
| Smd to Pad spacing     | (clearance dist (type smd_pin))                |
| Smd to SMD spacing     | (clearance dist (type smd_smd))                |
| Board to Trace spacing | (clearance dist (type area_wire))              |
| Board to Via spacing   | (clearance dist (type area_via))               |
| Board to Pad spacing   | (clearance dist (type area_pin))               |
| Board to SMD spacing   | (clearance dist (type area_smd))               |
| Smd to Via same net    | (clearance dist (type<br>smd_via_same_net))    |
| Smd to Crn same net    | (clearance dist (type<br>smd_to_turn_gap))     |
| Pad to Crn same net    | (clearance dist (type<br>pad_to_turn_gap))     |
| Via to Via same net    | (clearance dist (type<br>via_to_via_same_net)) |
| Drill to Drill spacing | (clearance dist (type drill_gap))              |
| Body to Body spacing   | Unsupported                                    |

**Table 146. Clearance Rules**

The Link passes default clearance rules to SPECCTRA at the PCB rule level.

**Tip**

Copper is translated to a SPECCTRA keepout. In addition, a board outline is translated as a boundary. Both keepouts and boundaries use the area clearance mentioned above.

**Specctra Text Translation**

Text translates as a keepout. During generation of the SPECCTRA keepout, the maximum text clearance defined in the following clearance rules is used to expand the SPECCTRA keepout area to allow for the required clearance:

- Text-to-Trace spacing
- Text-to-Via spacing
- Text-to-Drill spacing
- Text-to-SMD spacing

**Differential Pairs**

SPECCTRA does not support minimum/maximum length directly for differential pairs. However, you can add these restrictions using routing rules applied to the pair of nets.

The following SPECCTRA syntax supports net pairs:

```
(pair (nets nm1 nm2 (gap dist)))
Pin pairs use the syntax:
(pair (wires nm1 nm2 (gap dist)))
```
**Conditional Rules**

Conditional rules are separated into two categories: high-speed and clearance. SPECCTRA can accept conditional rules for layers. However, any other rules can only be conditional if they use net classes. A class can contain only nets, not pin pairs or groups. Therefore, any conditional rule that includes a group or pin pair, and is a high-speed rule, cannot be passed to SPECCTRA.

Nets in conditional rules are automatically placed in dummy SPECCTRA classes using the naming convention NEW\_CLASS\_# as follows:

(class NEW\_CLASS1 \$\$\$2016)

**High-Speed Conditional Rules**

A high-speed conditional rule is converted like a non conditional high-speed rule, except that it must be of the form class vs. class, as follows:

```
**PADS Layout Conditional Rule ###**
```

```
(class_class
(classes CLASS_0 CLASS_1)
(rule (parallel_segment (gap dist) (limit dist)))
(rule (tandem_segment (gap dist) (limit dist)))
)
```

```
###############################
```
**Clearance Conditional Rules**

Conditional clearance rules must be of the form object vs. layer, as follows:

```
###########################
```
**PADS Layout Group Rule ###**

(group GROUP\_0

(fromto U2-2 U1-2

)

(fromto U4-9 U1-9

)

(fromto U3-10 U4-10

```
)
```
(layer\_rule 1

(rule

(width dist)

(clearance dist (type wire\_wire))

```
(clearance dist (type via_wire))
```
etc.

![](/layout/guide/44/_page_9_Picture_3.jpeg)

**Tip** Conditional rules vs. text are ignored. SPECCTRA does not recognize text.

